<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"><title>CI/CD, le divorce serait-il prononcé ?</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/css/reset.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/css/reveal.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/css/theme/league.css" id="theme"><!--This CSS is generated by the Asciidoctor reveal.js converter to further integrate AsciiDoc's existing semantic with reveal.js--><style type="text/css">.reveal div.right {
  float: right
}

/* listing block */
.reveal .listingblock.stretch > .content {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre > code {
  height: 100%;
  max-height: 100%
}

/* tables */
table {
  border-collapse: collapse;
  border-spacing: 0
}

table {
  margin-bottom: 1.25em;
  border: solid 1px #dedede
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
  padding: .5em .625em .625em;
  font-size: inherit;
  text-align: left
}

table tr th, table tr td {
  padding: .5625em .625em;
  font-size: inherit
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
  display: table-cell;
  line-height: 1.6
}

td.tableblock > .content {
  margin-bottom: 1.25em
}

td.tableblock > .content > :last-child {
  margin-bottom: -1.25em
}

table.tableblock, th.tableblock, td.tableblock {
  border: 0 solid #dedede
}

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock {
  border-width: 0 1px 1px 0
}

table.grid-all > tfoot > tr > .tableblock {
  border-width: 1px 1px 0 0
}

table.grid-cols > * > tr > .tableblock {
  border-width: 0 1px 0 0
}

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock {
  border-width: 0 0 1px
}

table.grid-rows > tfoot > tr > .tableblock {
  border-width: 1px 0 0
}

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child {
  border-right-width: 0
}

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock {
  border-bottom-width: 0
}

table.frame-all {
  border-width: 1px
}

table.frame-sides {
  border-width: 0 1px
}

table.frame-topbot, table.frame-ends {
  border-width: 1px 0
}

.reveal table th.halign-left, .reveal table td.halign-left {
  text-align: left
}

.reveal table th.halign-right, .reveal table td.halign-right {
  text-align: right
}

.reveal table th.halign-center, .reveal table td.halign-center {
  text-align: center
}

.reveal table th.valign-top, .reveal table td.valign-top {
  vertical-align: top
}

.reveal table th.valign-bottom, .reveal table td.valign-bottom {
  vertical-align: bottom
}

.reveal table th.valign-middle, .reveal table td.valign-middle {
  vertical-align: middle
}

table thead th, table tfoot th {
  font-weight: bold
}

tbody tr th {
  display: table-cell;
  line-height: 1.6
}

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p {
  font-weight: bold
}

thead {
  display: table-header-group
}

.reveal table.grid-none th, .reveal table.grid-none td {
  border-bottom: 0 !important
}

/* kbd macro */
kbd {
  font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace;
  display: inline-block;
  color: rgba(0, 0, 0, .8);
  font-size: .65em;
  line-height: 1.45;
  background: #f7f7f7;
  border: 1px solid #ccc;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em white inset;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em #fff inset;
  margin: 0 .15em;
  padding: .2em .5em;
  vertical-align: middle;
  position: relative;
  top: -.1em;
  white-space: nowrap
}

.keyseq kbd:first-child {
  margin-left: 0
}

.keyseq kbd:last-child {
  margin-right: 0
}

/* callouts */
.conum[data-value] {
  display: inline-block;
  color: #fff !important;
  background: rgba(0, 0, 0, .8);
  -webkit-border-radius: 50%;
  border-radius: 50%;
  text-align: center;
  font-size: .75em;
  width: 1.67em;
  height: 1.67em;
  line-height: 1.67em;
  font-family: "Open Sans", "DejaVu Sans", sans-serif;
  font-style: normal;
  font-weight: bold
}

.conum[data-value] * {
  color: #fff !important
}

.conum[data-value] + b {
  display: none
}

.conum[data-value]:after {
  content: attr(data-value)
}

pre .conum[data-value] {
  position: relative;
  top: -.125em
}

b.conum * {
  color: inherit !important
}

.conum:not([data-value]):empty {
  display: none
}

/* Callout list */
.hdlist > table, .colist > table {
  border: 0;
  background: none
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
  background: none
}

td.hdlist1, td.hdlist2 {
  vertical-align: top;
  padding: 0 .625em
}

td.hdlist1 {
  font-weight: bold;
  padding-bottom: 1.25em
}

/* Disabled from Asciidoctor CSS because it caused callout list to go under the
 * source listing when .stretch is applied (see #335)
 * .literalblock+.colist,.listingblock+.colist{margin-top:-.5em} */
.colist td:not([class]):first-child {
  padding: .4em .75em 0;
  line-height: 1;
  vertical-align: top
}

.colist td:not([class]):first-child img {
  max-width: none
}

.colist td:not([class]):last-child {
  padding: .25em 0
}

/* Override Asciidoctor CSS that causes issues with reveal.js features */
.reveal .hljs table {
  border: 0
}

/* Callout list rows would have a bottom border with some reveal.js themes (see #335) */
.reveal .colist > table th, .reveal .colist > table td {
  border-bottom: 0
}

/* Fixes line height with Highlight.js source listing when linenums enabled (see #331) */
.reveal .hljs table thead tr th, .reveal .hljs table tfoot tr th, .reveal .hljs table tbody tr td, .reveal .hljs table tr td, .reveal .hljs table tfoot tr td {
  line-height: inherit
}

/* Columns layout */
.columns .slide-content {
  display: flex;
}

.columns.wrap .slide-content {
  flex-wrap: wrap;
}

.columns.is-vcentered .slide-content {
  align-items: center;
}

.columns .slide-content > .column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
}

.columns .slide-content > .column > * {
  padding: .75rem;
}

/* See #353 */
.columns.wrap .slide-content > .column {
  flex-basis: auto;
}

.columns .slide-content > .column.is-full {
  flex: none;
  width: 100%;
}

.columns .slide-content > .column.is-four-fifths {
  flex: none;
  width: 80%;
}

.columns .slide-content > .column.is-three-quarters {
  flex: none;
  width: 75%;
}

.columns .slide-content > .column.is-two-thirds {
  flex: none;
  width: 66.6666%;
}

.columns .slide-content > .column.is-three-fifths {
  flex: none;
  width: 60%;
}

.columns .slide-content > .column.is-half {
  flex: none;
  width: 50%;
}

.columns .slide-content > .column.is-two-fifths {
  flex: none;
  width: 40%;
}

.columns .slide-content > .column.is-one-third {
  flex: none;
  width: 33.3333%;
}

.columns .slide-content > .column.is-one-quarter {
  flex: none;
  width: 25%;
}

.columns .slide-content > .column.is-one-fifth {
  flex: none;
  width: 20%;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.text-left {
  text-align: left !important
}

.text-right {
  text-align: right !important
}

.text-center {
  text-align: center !important
}

.text-justify {
  text-align: justify !important
}

.footnotes {
  border-top: 1px solid rgba(0, 0, 0, 0.2);
  padding: 0.5em 0 0 0;
  font-size: 0.65em;
  margin-top: 4em;
}
</style><!--Printing and PDF exports--><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/css/print/pdf.css" : "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><link rel="stylesheet" href="style-onepoint.css"></head><body><div class="reveal"><div class="slides"><section class="title main-title background" data-state="title"><h1>CI/CD, le divorce serait-il prononcé ?</h1><div class="preamble"><aside class="notes"><div class="paragraph"><p>Nico :
Ca fait quelques années que nous travaillons sur des projets IT,
et globalement on s&#8217;est toujours retrouvé, plus ou moins volontairement,
à automatiser des taches de construction, ou de déploiements</p></div>
<div class="paragraph"><p>Quand on avait vraiment de la chance, nous avions même un role soit sur les mises en services,
soit carrément sur le suivi de l&#8217;état des services en production.</p></div>
<div class="paragraph"><p>Et depuis beaucoup moins longtemps,
on a inventé des métiers et décrit des concepts qui correspondent plus ou moins à notre quotidien.</p></div>
<div class="paragraph"><p>Donc de petit couple, ca fait un petit paquet d&#8217;année qu&#8217;on le fréquente&#8230;&#8203;</p></div></aside></div></section>
<section><section id="_nos_deux_tourtereaux" class="basics background" data-transition="zoom-in slide-out"><h2>Nos deux tourtereaux</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p><strong>Yann [1 min] </strong>:</p></div>
<div class="paragraph"><p>"
Et comme nous avons pas mal d&#8217;annecdotes,
nous allons nous permettre de revenir un peu sur leurs histoires, leurs raisons d&#8217;être&#8230;&#8203;</p></div>
<div class="paragraph"><p>Et bien sur on se permettra quelques incursions dans leur intimité !
"</p></div></aside></div></section><section id="_lorigine" class="ci background"><h2>L&#8217;origine</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd.code.png" alt="cicd cicd.code"></div>
<aside class="notes"><div class="paragraph"><p>Yann :
"
Au commencement, il y avait du code, un peu partout.
Sur nos postes, dans des dépôts plus ou moins centralisés, ou encore ailleurs.
Les projets se sont structurés, les librairies sont apparues et les gestionnaires de dépendances sont arrivées&#8230;&#8203;
"</p></div></aside></div></section><section id="_ci" class="ci background"><h2>CI</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Nous allons parler bien évidemment de CI.</p></li><li><p>Intégration continue. que tout le monde, normalement, connait</p></li></ul></div></aside></div></section><section id="_continuous_build" class="ci background" data-transition="slide-in fade-out"><h2>Continuous Build</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd.build.png" alt="cicd cicd.build"></div>
<div class="paragraph"><p>Objectif : Construire l&#8217;applicatif</p></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Première chose : build en continue. Pour automatiser, indus. Avec pour objectif de faciliter le build, c&#8217;est la naissance de la CI.</p></li><li><p>Continue &#8658; à chaque commit (au fil du développement tout cas)</p></li><li><p>ATTENTION : on ne parle pas encore de pipeline au sens script, on parle pipeline au sens étape</p></li></ul></div>
<div class="paragraph"><p>"
Notre code est devenu dépendant de code tiers et il devenait indispensable de les agréger,
voir dans certains cas, les compiler.
Et à chaque modification, nous avons eu besoin de savoir si tout fonctionnait ensemble&#8230;&#8203;</p></div>
<div class="paragraph"><p>Le continious build n&#8217;était que la première étape&#8230;&#8203;
Depuis le code, on construisait, on compilait, on assemblait, bref&#8230;&#8203; On fabrique un binaire !
"</p></div></aside></div></section><section id="_continuous_integration" class="ci background" data-transition="fade-in slide-out"><h2>Continuous Integration</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd.integration.png" alt="cicd cicd.integration"></div>
<div class="paragraph"><p>Objectif : Valider le code et les métriques</p></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>L&#8217;intégration continue, que nous faisons tous aujourd&#8217;hui.</p></div>
<div class="ulist"><ul><li><p>Nouveau terme : Intégration &#8658; on test/intègre notre code avec d&#8217;autres composants</p></li></ul></div>
<div class="paragraph"><p>"
Mais en grandissant, de nouveaux attributs se sont ajoutés.
Tests, standards syntaxiques, identification de faille, analyse de dépendances, le binaire s&#8217;est enrichie de métriques.</p></div>
<div class="paragraph"><p>De construction, la maturité l&#8217;a naturellement, conduit à intégration
Et ces métriques, évoluant dans le temps, servent d&#8217;indicateur, voir de protections pour garder le contrôle&#8230;&#8203;
"</p></div></aside></div></section><section id="_bref" class="ci background"><h2>Bref&#8230;&#8203;</h2><div class="slide-content"><div class="imageblock"><img src="./images/geek-evolution.png" alt="geek evolution"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Sur des années, CI a évolué, de plus en plus de technos/d&#8217;outils/technique.</p></li><li><p>Mais reste dans le contexte du dev.</p></li><li><p>L&#8217;objectif de CI, Valider le code, les métriques, que notre code fonctionne avec les autres composants, Tout ça au fil du développement</p></li></ul></div>
<div class="paragraph"><p>"
Bref, CI à évoluée, grandie, peut être même murie, mais tout ca de facon très autonome et sans avoir de réels impacts sur ce qui l&#8217;entourait&#8230;&#8203;
Sans doute son côté introvertie !!!
"</p></div></aside></div></section><section id="_cd" class="cd background"><h2>CD</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>On vous propose UNE définition</p></li><li><p>CD : deployment, delivery, development</p></li><li><p>Un truc d&#8217;OPS à la base, emmener le code en prod.</p></li></ul></div>
<div class="paragraph"><p>"
CD de son côté a eu une adolescence plus compliquée&#8230;&#8203;
"</p></div></aside></div></section><section id="_delivery" class="cd background" data-transition="slide-in none-out"><h2>Delivery</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd.delivery.png" alt="cicd cicd.delivery"></div>
<div class="paragraph"><p>Objectif : Mettre un livrable à disposition</p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>Une fois que CI a fait son job, CD prend le relai.</p></div>
<div class="ulist"><ul><li><p>Binaire/package &#8658; Livrables package deb, tarball, executable windows, etc.</p></li><li><p>Code tout seul, ne sert à rien</p></li><li><p>On script la créa des livrables facilement</p></li><li><p>But de delivery : mettre à dispo un livrable</p></li></ul></div>
<div class="paragraph"><p>"
Il a toujours été clair pour lui que binaire isolé n&#8217;avait aucune valeur !
Il les récupérait, les assemblait, les étiquetait, et les diffusait.
"</p></div></aside></div></section><section id="_deployment" class="cd background" data-transition="none"><h2>Deployment</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd.deployment.png" alt="cicd cicd.deployment"></div>
<div class="paragraph"><p>Objectif : Deployer l&#8217;application</p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>Déploiement continue :</p></div>
<div class="ulist"><ul><li><p>Fait à la main, ou script aidant</p></li><li><p>Risque élevé</p></li><li><p>De plus en plus fréquent ( &#8658; Agilité )</p></li><li><p>Dépendant du monde externe</p></li></ul></div>
<div class="paragraph"><p>"
Mais rapidement délivrer ne suffisait pas, il fallait aller plus loin&#8230;&#8203;
Déployer : Cela devient sa nouvelle obsession, presque une drogue
Mais les binaires venaient de plus en plus rapidement,
et réagir à ces arrivées devenait une nécessité pour rendre ces fonctionnalités disponibles&#8230;&#8203;
"</p></div></aside></div></section><section id="_development" class="cd background" data-transition="none"><h2>Development</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd.development.png" alt="cicd cicd.development"></div>
<div class="paragraph"><p>Objectif : S&#8217;assurer que le service fonctionne</p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>Développement continue :</p></div>
<div class="ulist"><ul><li><p>On "opère" un service &#8658; le RUN</p></li><li><p>Changement de paradigme, on ne fait pas que déployer une appli, on gère un service</p></li><li><p>Non automatisé, même si beaucoup d&#8217;outils</p></li><li><p>Les admin sys</p></li></ul></div>
<div class="paragraph"><p>"
Mais attentions, quand on dit disponible, ce n&#8217;est pas pour jouer avec les applications !
C&#8217;est bien pour rendre un service, que ces applications sont fabriquées,
et elles n&#8217;ont de valeur que si elles servent à ceux à qui elles sont destinées !
"</p></div></aside></div></section><section id="_bref_2" class="cd background"><h2>Bref&#8230;&#8203;</h2><div class="slide-content"><div class="imageblock"><img src="./images/geek-evolution.png" alt="geek evolution"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>CD fait de tout</p></li><li><p>Complexe car beaucoup de facteurs</p></li><li><p>automatisation pas forcement evidente/possible</p></li><li><p>Haut niveau de risque</p></li></ul></div>
<div class="paragraph"><p>"
Bref, CD clairement développé une forme de schizophrénie.
Et délivrer, déployer, développer en continu pour rendre un service sont toujours ses trois obsessions !!!
"</p></div></aside></div></section><section id="_la_rencontre" class="ci-cd background" data-transition="slide-in none-out"><h2>La rencontre&#8230;&#8203;</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd-split.png" alt="cicd cicd split"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>CI dans le monde du dev, CD dans le monde de l&#8217;OPS</p></div>
<div class="ulist"><ul><li><p>Pas les mêmes contraintes/techniques/techno</p></li><li><p>MAIS un point commun &#8658; le produit et la flemme de faire des trucs à la main</p></li></ul></div>
<div class="paragraph"><p>"
Et puis un jour, ils se sont rencontrés&#8230;&#8203;
Leur point commun, le produit, leur a vite sauté aux yeux, mais ils avaient clairement des visions différentes.
Une différence, qui deviendra bientôt une complémentarité !
"</p></div></aside></div></section><section id="_un_avenir_tout_tracé" class="ci-cd background" data-transition="fade"><h2>Un avenir tout tracé !</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-cicd.png" alt="cicd cicd"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Deux process différents MAIS deux process qui se suivent</p></li><li><p>Dépendant l&#8217;un de l&#8217;autre</p></li><li><p>Un point commun : le binaire</p></li><li><p>Donc evidement, ils vont essayer de former un joli couple</p></li></ul></div>
<div class="paragraph"><p>"
Entre l&#8217;un qui passe sont temps à vérifier que chacune des briques fonctionnent les unes avec les autres,
et l&#8217;autre qui ne pense qu&#8217;à emmener la valeur produit en production&#8230;&#8203;</p></div>
<div class="paragraph"><p>Leur avenir semblait évident&#8230;&#8203;
Et c&#8217;est pour celà que nous sommes là aujourd&#8217;hui.
"</p></div></aside></div></section><section id="_yann" class="basics background"><h2>Yann</h2><div class="slide-content"><div class="imageblock"><img src="./images/intervenants-yann.png" alt="intervenants yann"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>Onepoint, Tech Lead, PHP, DevOps, Pas Java, Adore la POO, Mentorat, barbe et casquette</p></div>
<div class="paragraph"><p>Première conférence publique</p></div>
<div class="paragraph"><p>"
Yann, développeur back, originellement PHP, etc&#8230;&#8203;
"</p></div></aside></div></section><section id="_nicolas" class="basics background"><h2>Nicolas</h2><div class="slide-content"><div class="imageblock"><img src="./images/intervenants-nicolas.png" alt="intervenants nicolas"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Leat tech à onepoint.</p></li><li><p>Dev d&#8217;origine java et accompagnement à la transfo DevOps</p></li><li><p>Couteau suisse (un peu crafter)</p></li></ul></div>
<div class="paragraph"><p>"
Nicolas, également développeur back, mais plutôt tourné vers le Java, etc&#8230;&#8203;
"</p></div></aside></div></section><section id="_découvrons_la_suite_de_leur_histoire" class="basics background" data-transition="slide-in zoom-out"><h2>Découvrons la suite de leur histoire</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>"
Nous vous embarquons avec nous pour vous raconter la suite&#8230;&#8203;
"</p></div></aside></div></section></section>
<section><section id="_les_petits_pipelines" class="ci-cd background"><h2>Les petits pipelines</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p><strong>Nico  [7 min] </strong>:</p></div>
<div class="ulist"><ul><li><p>Naissance des pipelines</p></li><li><p>Beaucoup de tentative pour faire fonctionner ce joli couple CI/CD</p></li><li><p>Des experiences, des théories, des tests, des pratiques, etc..</p></li></ul></div>
<div class="paragraph"><p>"
Sans succomber à la mode de la Hype (driven development), leur histoire est sommes toute assez conventionnelle !</p></div>
<div class="paragraph"><p>Ils ont eu des projets, se sont posé pleins de question lors de la réalisation et ont dû faire face à leurs premiers renoncements&#8230;&#8203;
"</p></div></aside></div></section><section id="_la_définition_dun_pipeline" class="ci-cd background"><h2>La définition d&#8217;un pipeline</h2><div class="slide-content"><div class="imageblock"><img src="./images/cicd-pipeline.png" alt="cicd pipeline"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Prenons un peu de hauteur</p></li><li><p>De manière générale, on arrive à ce type de pipeline (ref schéma) que tout le monde connait</p></li><li><p>INCROYABLE, c&#8217;est le merge parfait de CI et CD</p></li><li><p>Attention, ce n&#8217;est pas du code</p></li></ul></div>
<div class="paragraph"><p>"
Ils sont rapidement tombés d&#8217;accord sur certains points&#8230;&#8203;
Faire des pipelines oui, mais pas n&#8217;importe comment !</p></div>
<div class="paragraph"><p>Ils ont établi que cela consistait en un ensemble de taches qui se succèdent pour donner un résultat !
Si on se positionne coté produit (ou métier), on appelle ca des workflows.
Et si vous êtes vieux, ou avec une culture d&#8217;informatique industrielle,  vous avez peut être même appelé ça des grafcets !!!!!
"</p></div></aside></div></section><section id="_cest_un_dessin" class="ci-cd background"><h2>C&#8217;est un dessin&#8230;&#8203;</h2><div class="slide-content"><div class="imageblock"><img src="./images/flowchart-draw.png" alt="Dessin" width="60%"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Un pipeline, c&#8217;est un DESSIN</p></li><li><p>Représente les actions/taches pour aboutir à un process qui part du code et qui va en prod.</p></li><li><p>Vu la quantité de taches de CI et CD, c&#8217;est indispensable</p></li></ul></div>
<div class="paragraph"><p>"
Alors ils ont commencé à prendre des carnets, des crayons, tracer des esquisses.
Conscient qu&#8217;ils n&#8217;avaient pas tous les éléments, ils ont demandé des avis, des conseils&#8230;&#8203;
"</p></div></aside></div></section><section id="_et_des_personnes" class="ci-cd background"><h2>&#8230;&#8203; Et des personnes</h2><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-people.png" alt="Personnes" width="80%"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Mais attention, c&#8217;est aussi des personnes</p></li><li><p>Autant côté dev que ops, le process CI/CD impacte beaucoup plus de monde que les équipes de réal.</p></li><li><p>Market', Direction, Dev, Ops, Designers, Agiliste, etc.</p></li><li><p>Pour mettre tout le monde d&#8217;accord</p></li><li><p>mais comme tout le monde à toujours raison dans ce milieu</p></li><li><p>on vous propose une méthode pour vous aider à définir ce pipeline pour que notre couple CI/CD aille bien</p></li><li><p>Tiré de nos experiences respectives</p></li></ul></div>
<div class="paragraph"><p>"
Bref, ils ont fini par convier tous les acteurs qui graviteront autour de ces pipelines !
Une sorte  atelier où nn regroupe toutes les parties prenantes et ou on modélise les processus pour venir répondre aux contraintes de chacun.
Et le plus dur pour nos tourteaux dans ce moment est sans aucun doute de ne pas parler d&#8217;outils, ou d&#8217;automatisation !
"</p></div></aside></div></section><section id="_dis_comment_on_fait_des_pipelines" class="ci-cd background"><h2>Dis, comment on fait des pipelines ?</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/dis-comment.webp" alt="dis comment"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>On vous a prévenus, on n&#8217;est plus tout jeune&#8230;&#8203;</p></div>
<div class="paragraph"><p>On vous propose des axes, des pistes, pour vous aider à définir vos besoins, et vous aiguiller dans la réalisation de vos pipelines.</p></div></aside></div></section><section class="ci-cd background" data-transition="slide-in fade-out"><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-steps-1.png" alt="step 1"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Par où on commence pour définir un pipeline ?</p></li><li><p>Par les objectifs, et pas seulement les objectifs tech</p><div class="ulist"><ul><li><p>Classique : qualité, augmenté la vitesse de déploiement, simplifier les actions, etc&#8230;&#8203;</p></li><li><p>Moins classique : Laisser les CP faire les livraisons, Automatiser des déploiements de nuit, cadencer la communication commerciale et la mise à disposition du produit, etc&#8230;&#8203;</p></li><li><p>Mauvais objectif : faire comme tout le monde, "MAIS C&#8217;EST TROP COOL"</p></li></ul></div></li><li><p>D&#8217;où l&#8217;importance d&#8217;avoir tout le monde autour de la table</p></li><li><p>Besoins spécifiques (perf/sécurité/qualité/accessibilité)</p></li><li><p>complexité de la construction ou du déploiement (multiplatforme par example)</p></li><li><p>règles imposées par le contexte (nommage, disponibilité, etc…),</p></li></ul></div>
<div class="paragraph"><p>"
Ca peut vous sembler évident, mais avant de se lancer, la première question qui se pose est <strong>pourquoi ?</strong>
Bien évidement commencer par définir les objectifs est essentiel à la construction d&#8217;un projet commun.
Mais les raisons d&#8217;être et contraintes des parties prenantes étant tellement différente, cette étape est indispensable.
Besoins spécifiques (perf/sécurité/qualité/accessibilité),
complexité de la construction ou du déploiement (multiplatforme par example),
règles imposé par le contexte (nommage, disponibilité, etc&#8230;&#8203;),
ou encore qui peut voir et faire quoi, ne sont que des examples !
"</p></div></aside></div></section><section class="ci-cd background" data-transition="fade"><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-steps-2.png" alt="step 1"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Un point très important</p></li><li><p>Il faut analyser les process existants de l&#8217;entreprise/équipes si ils existent</p></li><li><p>Sinon risque de rejet des équipes</p></li><li><p>Des réponses existent déjà dans les process</p></li><li><p>Si trop de divergence, il faudra p-e faire des compris</p></li><li><p>Workflow Git par exemple, gestion du versionning, Méthode agile ou pas, etc.</p></li><li><p>Il faut partir du principe qu&#8217;aucun standard n&#8217;est respecté</p></li></ul></div>
<div class="paragraph"><p>"
Ensuite, nos tourtereaux ne partent pas de rien ! Ils ont leur existant.
Une analyse de leur processus (réalisation et déploiement) est donc une étape indispensable.</p></div>
<div class="paragraph"><p>Il sera peut-être nécessaire de normaliser ou de standardiser les réalisations,
tout en prenant garde à ne pas révolutionner les processus !
On ne fait pas des pipelines par contrainte, mais bien pour aider !!!
"</p></div></aside></div></section><section class="ci-cd background" data-transition="fade"><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-steps-3.png" alt="step 1"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Lors des échanges autour du process, il faut bien identifier les étapes clés</p></li><li><p>Ne pas les ranger dans un coin</p></li><li><p>Donnerons probablement lieu à des étapes spécifiques dans le pipeline</p></li></ul></div>
<div class="paragraph"><p>"
Mais malgré toute leur bonne volonté, il n&#8217;en demeure pas moins qu&#8217;il y a forcément des étapes clés ou des cas particuliers.
Pas la peine de les mettre sous le tapis, il faut les identifier !</p></div>
<div class="paragraph"><p>Est-ce qu&#8217;on ne peut déployer que toutes les semaines ? Ulcère assuré pour CD&#8230;&#8203;
Est-ce qu&#8217;on a des personnes clé pour des actions particulières ?
Validation, déclenchement, action technique, droit d&#8217;accès ne sont que des example de question qui se sont posées !
"</p></div></aside></div></section><section id="_event_storming" class="ci-cd background" data-transition="fade"><h2>Event storming</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/event-storming.jpg" alt="event storming"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Technique d&#8217;UX</p></li></ul></div>
<div class="paragraph"><p>"
Si vous connaissez les ateliers d&#8217;event storming, appliqués au produit, on pourrait pratiquement les appliquer à nos pipelines.</p></div>
<div class="paragraph"><p>Il y a cependant un tas de questions qui vont se poser&#8230;&#8203;
"</p></div></aside></div></section><section class="ci-cd background" data-transition="fade"><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-steps-4.png" alt="step 1"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Comme dit précedement, il y a beaucoup de personne qui gravite autour des pipelines</p></li><li><p>Qui doit voir quoi, quand et avec quel granularité ?</p></li><li><p>Equipe dev, equipe ops, CP, Agiliste, Big boss, Testeur, etc. pas les mêmes besoins de retour &#8658; Prendre des exemples</p></li><li><p>Attention si besoin d&#8217;intégration aux outils existants (board de direction par exemple, JIRA &#8230;&#8203;)</p></li><li><p>Faire simple, c&#8217;est compliqué</p></li><li><p>Zoom sur le Fail Fast : un feedback efficace</p></li></ul></div>
<div class="paragraph"><p>"
Sauf que pour pouvoir orchestrer tout cela, ils le savent : Ils vont avoir besoin de rétroactions (des feedbacks)
Mais même ça, ce n&#8217;est pas trivial.</p></div>
<div class="paragraph"><p>Niveau de précision, rapidité et densité des retours, accès aux informations.
Des questions qui peuvent sembler simple, mais nous le savons tous : faire simple, c&#8217;est compliqué !
Et encore plus si on a déjà de l&#8217;outillage existant auquel il faut s&#8217;intégrer !
"</p></div></aside></div></section><section class="ci-cd background" data-transition="fade"><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-steps-5.png" alt="step 1"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Les premières prises de décision difficile</p></li><li><p>Conflits CI/CD, CI veut tout automatiser, CD veut garder le contrôle</p></li><li><p>D&#8217;où l&#8217;importance des étapes clés, feedback, etc.</p></li><li><p>Tout auto n&#8217;est pas forcement le mieux</p></li><li><p>Surtout si process complexe, et silotage important</p></li><li><p>Définition des déclencheurs, humain ou auto</p></li><li><p>Debrayage &#8658; on verra après</p></li></ul></div>
<div class="paragraph"><p>"
Mais derrière cette idylle, les premiers conflits approchent&#8230;&#8203;
C&#8217;est à ce moment qu&#8217;on se rend compte que CI et CD ne sont pas <strong>du tout</strong> sur les mêmes enjeux,
en particulier sur la phase de déploiement !</p></div>
<div class="paragraph"><p>Et surtout si on se trouve dans des structures organisationnelle dense (complexe),
tout automatiser n&#8217;est pas toujours (voir rarement) la meilleure solution.
Et ce sera l&#8217;occasion de définir des déclencheurs qui permettront d&#8217;enclencher les étapes suivantes&#8230;&#8203; ou pas !
"</p></div></aside></div></section><section class="ci-cd background" data-transition="fade"><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-steps-6.png" alt="step 1"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>On y arrive</p></li><li><p>Le choix des outils "ENFIN"</p></li><li><p>Ils doivent répondre aux besoins de feedback, déclenchement, etc.</p></li><li><p>Un seul pour tous ? Les meilleurs de chaque de domaine ?</p></li><li><p>Côté CI, c&#8217;est plus facile car indépendant du reste de l&#8217;entreprise</p></li><li><p>Côté CD, c&#8217;est toujours dépendant de l&#8217;infra de la boite, des stacks etc.</p></li><li><p>Grosse divergence entre CI et CD</p></li><li><p>Attention : qu&#8217;il y a déjà probablement des outils existants dans l&#8217;entreprise qui sont connus et maitrisés, rationnalisé, gestion de cout, posez la question et challenger l&#8217;existant</p></li></ul></div>
<div class="paragraph"><p>"
Patience, on approche du but, et surtout, on va parler des choses qu&#8217;on aime : les outils !
C&#8217;est le moment&#8230;&#8203; Un seul pour les gouverner tous ? Ou le meilleur pour chaque action ?</p></div>
<div class="paragraph"><p>Les débats d&#8217;experts sont très, voir trop, nombreux sur ce sujet, mais ils ont identifié certains consensus.
Coté CI, il y a beaucoup de standards. On essai donc de s&#8217;y conforter au maximum en fonction de son écosystème (langage).
Coté CD, c&#8217;est beaucoup plus dépendant des stacks (on premise, cloud, autre&#8230;&#8203;), et des process choisis (fait par les dev, par les ops, etc&#8230;&#8203;)
"</p></div></aside></div></section><section class="ci-cd background" data-transition="fade"><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/periodic.png" alt="periodic" width="80%"></span><sup class="footnote">[<span class="footnote" title="View footnote.">1</span>]</sup></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Choix exotique = difficulté d&#8217;usage et de maintenance</p></li><li><p>Voir pas utilisé</p></li><li><p>Git ou SVN</p></li><li><p>XLDeploy (un bon outil) ou un système de déploiment obscur écrit en Pascal</p></li><li><p>Ex.: pour iOS, un build sur un MAC ou via une commande g++ maison</p></li></ul></div>
<div class="paragraph"><p>"
Attention toutefois à ne pas choisir des outils de niche que personne ne maitrise.
Vous pouvez perdre l&#8217;intéret de l&#8217;outil si vous ne trouver personne pour l&#8217;utiliser correctement !
"</p></div></aside></div><div class="footnotes"><div class="footnote">1. <a href="https://digital.ai/periodic-table-of-devops-tools" class="bare">https://digital.ai/periodic-table-of-devops-tools</a></div></div></section><section class="ci-cd background" data-transition="fade"><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-steps-7.png" alt="step 1"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>On a les objectifs, les feedback, les actions clés, les outils, etc&#8230;&#8203;</p></li><li><p>Et seulement maintenant on commence le "dev"</p></li><li><p>Comme d&#8217;habitude en développement et en archi, si on concoit correctement, le développement devrait bien se passer</p></li></ul></div>
<div class="paragraph"><p>"
Et voila, nous y sommes, on va pouvoir fabriquer nos pipelines&#8230;&#8203;
"</p></div></aside></div></section><section id="_et_voilà" class="ci-cd background"><h2>Et voilà !</h2><div class="slide-content"><div class="imageblock"><img src="./images/faire-part.png" alt="step 1" width="75%"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>CI/CD ont enfin leurs pipelines</p></li><li><p>Malgré les échanges, les points de conflits, etc. on a enfin réussi à avoir quelque chose qui fonctionne et qui convient à tout le monde</p></li><li><p>C&#8217;est émouvant quand même ! Non ?</p></li></ul></div>
<div class="paragraph"><p>"
Ils se sont lancés&#8230;&#8203;</p></div>
<div class="paragraph"><p>Malgré les nombreux échanges, la réflexion qui en a découlé, voir les frictions,
ils ont quand même trouvé un terrain d&#8217;entente !
"</p></div></aside></div></section><section id="_petit_pipeline_deviendra_grand" class="ci-cd background"><h2>Petit pipeline deviendra grand &#8230;&#8203;</h2><div class="slide-content"><div class="paragraph"><p>&#8230;&#8203;de manière itérative</p></div>
<div class="imageblock"><img src="./images/agile-loop.png" alt="agile loop"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Au début, c&#8217;est un bébé pipeline</p></li><li><p>On n&#8217;essaye pas de tout faire d&#8217;un coup, on commence petit à petit (d&#8217;abord le build, puis les tests, etc.)</p></li><li><p>On ajoute/ajuste des fonctionnalités/étapes de manière itérative</p></li><li><p>On connait tous les problématiques du cycle en V</p></li></ul></div>
<div class="paragraph"><p>"
Ils se sont lancés&#8230;&#8203;</p></div>
<div class="paragraph"><p>Malgré les nombreux échanges, la réflexion qui en a découlé, voir les frictions,
ils ont quand même trouvé un terrain d&#8217;entente !
"</p></div></aside></div></section><section class="ci-cd background"><div class="slide-content"><div class="paragraph"><p><em>Ce que l’on conçoit bien s’énonce clairement, et les mots pour le dire arrivent aisément</em>!<sup class="footnote">[<span class="footnote" title="View footnote.">1</span>]</sup></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>A dire comme ça, ça à l&#8217;air simple</p></li><li><p>Mais c&#8217;est au minimum complexe</p></li><li><p>Ce n&#8217;est pas une excuse pour ne pas faire l&#8217;exercice, sinon ça va aller dans le mur</p></li><li><p>Au début, c&#8217;est le bordel, évidemment, surtout que, comme tout bon dév, on veut coder !</p></li><li><p>Si vous mettez des trucs sous le tapis, vous allez, à un moment ou un autre, le voir revenir au galop</p></li><li><p>Mais vous allez y arriver, comme CI et CD dans leur jolie couple</p></li></ul></div>
<div class="paragraph"><p>"
Ce qui est clair, c&#8217;est que dans la plupart des organisations,
dessiner ou modéliser ce qui concerne CI/CD est au minimum complexe.
Mais c&#8217;est généralement une fausse excuse pour ne pas s&#8217;y pencher sérieusement.</p></div>
<div class="paragraph"><p>Si
<em>Ce que l’on conçoit bien s’énonce clairement, et les mots pour le dire arrivent aisément</em>!<sup class="footnoteref">[<span class="footnote" title="View footnote.">1</span>]</sup>
,Il en va de même pour les dessins. Et si vous ne pouvez pas représenter le processus,
il y a de grandes chances que vous ne puissiez pas l&#8217;appréhender !
"</p></div></aside></div><div class="footnotes"><div class="footnote">1. Nicolas Boileau</div></div></section><section id="_une_révolution_arrive" class="basics background" data-transition="slide-in zoom-out"><h2>Une révolution arrive ?</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Tout ce petit monde allait plutot bien</p></li><li><p>CI et CD avait leur indépendance</p></li><li><p>Une révolution dans leur vie allait arriver</p></li><li><p>Et là, c&#8217;est le drame !</p></li></ul></div></aside></div></section></section>
<section><section id="_lélément_perturbateur" class="code background"><h2>L&#8217;élément perturbateur</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p><strong>Nico  [17 min] </strong>:</p></div>
<div class="ulist"><ul><li><p>Lire le texte, il est bien</p></li><li><p>Pendant des années, le process CI/CD aussi appelé industrialisation</p></li><li><p>Techniquement les deux restaient de leur côté</p></li><li><p>Tout se passait bien, même si chacun restait dans son coin</p></li><li><p>Beaucoup d&#8217;experience, process calé, CI avec ses outils, CD avec les siens</p></li><li><p>Pas forcement de besoin de livrer souvent, l&#8217;agilité balbutiante</p></li><li><p>Des gars dans leur cave, les confs dans les outils</p></li><li><p>On sentait qu&#8217;un truc manquait malgré tout et leur relation n&#8217;était pas très fluide</p></li></ul></div>
<div class="paragraph"><p>"
Les années ont passé, une forme d&#8217;habitude s&#8217;était installée, chacun dans une forme de zone de confort.
Tout le monde y trouvait plus ou moins son compte.</p></div>
<div class="paragraph"><p>Mais il est arrivé, venant perturber cet équilibre, ayant des impacts imprévus et un dénouement pour le moins inattendu,
"</p></div></aside></div></section><section id="_tous_ladmiraient" class="code background"><h2>Tous l&#8217;admiraient</h2><div class="slide-content"><div class="imageblock"><img src="./images/red-carpet.png" alt="red carpet"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Puis la mode du Everything as code</p></li><li><p>CI habitué au code, donc hyper content</p></li><li><p>CD beaucoup moins (surtout sur les concepts, la maintenabilité, les bonnes pratiques, etc.)</p></li></ul></div>
<div class="paragraph"><p>"
Il s&#8217;appelait Everything, Everything AsCode, et tout le monde l&#8217;admirait !</p></div>
<div class="paragraph"><p>CI, pour qui il avait toujours été à la base de tout, comprenait bien cet engouement.
On pouvait le versionner, y faire de la relecture, améliorer la reproductibilité, voir même la maintenabilité.
Pour CD, il y avait un côté plus exotique ! Partagé entre l&#8217;attirance l&#8217;autre et la crainte de l&#8217;inconnu.
Une vague d&#8217;évolution, de changement, voir de révolution se profilait.
"</p></div></aside></div></section><section id="_gestion_des_sources" class="code background"><h2>Gestion des sources</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">.angular
.idea
conf
dist
aws
build
docker
docs
node_modules
proxy-backend
src
.browserslistrc
.dockerignore
.editorconfig
.eslintrc.json
.gitignore
.prettierrc
angular.json
CHANGELOG.md
Dockerfile
docker-compose.yml
karma.conf.js
package.json
package-lock.json
README.md
tsconfig.app.json
tsconfig.json
tsconfig.spec.json
Jenkinsfile
launch.bat
site.yml</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>On a TOUT mis dans les sources de nos projets<br>
Donc CI avait la main sur tout<br>
CD était un peu perdu</p></li><li><p>Discussions/Disputes de couple &#8658;</p></li></ul></div>
<div class="paragraph"><p>"
Les pipelines, la configuration des outils, l&#8217;infrastructure, les dépendances, et même la configuration des applications&#8230;&#8203;
Tout allait rejoindre le code si chèr à CI, et CD ne savait plus trop comment se positioner !</p></div>
<div class="paragraph"><p>Les discussions, pour ne pas dire les disputes, reprirent de plus belle&#8230;&#8203;
On se souvient avec tendresse de ces réunions de deux heures pour savoir si on devait mettre un point devant le nom d&#8217;un répertoire,
sans être capable de nous mettre d&#8217;accord&#8230;&#8203;
"</p></div></aside></div></section><section id="_cest_le_bordel" class="code background"><h2>C&#8217;est le bordel</h2><div class="slide-content"><div class="imageblock"><img src="./images/sacdenoeuds.jpg" alt="sacdenoeuds"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>"
Vue d&#8217;ici ca ressemble plus à un beau bordel qu&#8217;a une évolution paisible&#8230;&#8203;
"</p></div></aside></div></section><section id="_cest_le_bordel_2" class="code background"><h2>C&#8217;est le bordel</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">.idea
api
docs
ihm
 | .angular
 | conf
 | src
 | .browserslistrc
 | .dockerignore
 | .editorconfig
 | .eslintrc.json
 | .prettierrc
 | angular.json
 | Dockerfile
 | karma.conf.js
 | package.json
 | package-lock.json
 | tsconfig.app.json
 | tsconfig.json
 | tsconfig.spec.json
infra
.gitattributes
.gitignore
.gitlab-ci.yml
docker-compose.yml
README.md</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>Alors après il y a des solutions pour que chacun reste chez soi,<br>
mais c&#8217;est ce qui va éviter des disputes,<br>
pas forcément résoudre les dissonances.</p></div></aside></div></section><section id="_fusionner_les_deux_process" class="code background"><h2>Fusionner les deux process</h2><div class="slide-content"><div class="imageblock"><img src="./images/fusion.png" alt="fusion"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>On se retrouve avec les fichiers de conf de CI et CD au même endroit</p></li><li><p>Il faut donc "merger","fusionner" les fichiers de conf et les pratiques au même endroit</p></li><li><p>Avant c&#8217;était dans des outils/repertoires/dépots différents</p></li><li><p>Avec chacun ces pratiques, habitudes</p></li><li><p>Alignement sur le système de branching git pour la CD</p></li><li><p>Risques d&#8217;échec important, embrouilles</p></li><li><p>les décisions de l&#8217;équipe de dev, côté CI, qui étaient autonome, on maintenant un impact sur CD</p></li><li><p>CD doit s&#8217;inscrire dans les habitudes de travail de CI</p></li></ul></div>
<div class="paragraph"><p>"
&#8230;&#8203;Et c&#8217;est bien le cas !</p></div>
<div class="paragraph"><p>Quand on se retrouve à devoir fusionner deux processus qui ont des habitudes et des manière de travailler très différents,
les risques d&#8217;échecs sont nombreux.
CI et ses commit WIP à n&#8217;en plus finir, et CD qui suffixait tout en .old <em>au cas où</em> &#8230;&#8203;</p></div>
<div class="paragraph"><p>Les habitudes avaient la vie dure, il fallait agir !
"</p></div></aside></div></section><section id="_comment_aider_notre_petite_famille" class="basics background" data-transition="slide-in zoom-out"><h2>Comment aider notre petite famille ?</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Yann :
Il est temps &#8230;&#8203;</p></div>
<div class="paragraph"><p>Alors tant qu&#8217;on est en pause, on voudrait juste vous prévenir.</p></div>
<div class="paragraph"><p>Ce que nous allons vous présenter, ce sont des observations que nous avons faites,
des idées que nous avons, et souvent des mises en application qui nous apporte chaque jour.</p></div>
<div class="paragraph"><p>Quoi qu&#8217;il en soit, ce n&#8217;est pas une recette magique qui marche à tous les coups,
mais plus une approche pour l&#8217;implémentation des pipelines (oui, on va parler de code) qui, on l&#8217;espère, va vous aider.</p></div></aside></div></section></section>
<section><section id="_la_thérapie_de_couple" class="ci-cd background"><h2>La thérapie de couple</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p><strong>Nico  [20 min] </strong>:</p></div>
<div class="ulist"><ul><li><p>Côté CI, on sais gérer du code, le maintenir<br>
Côté CI, se tromper, c&#8217;est notre quotidien, défaire, refaire etc.</p></li><li><p>Côté CD, on sais anticiper l&#8217;imprévisible, réagir vite aux incidents<br>
Côté CD, bah, non en fait</p></li></ul></div>
<div class="paragraph"><p>&#8658; P2</p></div>
<div class="paragraph"><p>"
Des deux cotés, leurs point forts ont fait leurs preuves.
Dans la famille de CI, les Dev, aucunes actions n&#8217;est irréversible, et se planter est finalement le cas nominal !
Et maintenir du code&#8230;&#8203; Ah ça, ils savent faire !
Coté CD, on retrouve plus d&#8217;administrateur (ops), de vrais experts pour anticiper l&#8217;imprévisible,
et surtout pour réagir vite, voir très vite à n&#8217;importe quel incident !</p></div>
<div class="paragraph"><p>Alors nous, à l&#8217;origine, nous sommes plutôt de la famille de CI&#8230;&#8203;
Et on va essayer de regarder comment certains principes peuvent venir en aide à la belle famille !</p></div>
<div class="paragraph"><p>Surtout si maintenant on peut coder !!!!
"</p></div></aside></div></section><section id="_dry" class="ci-cd background"><h2>DRY&#8230;&#8203;</h2><div class="slide-content"><div class="paragraph"><p><em>Don&#8217;t Repeat Yourself</em></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>TOPO sur le DRY</p></li><li><p>Mais besoin de standardisation sur les pipelines</p></li></ul></div>
<div class="paragraph"><p>"
Une des premières que l&#8217;on nous apprend quand on dev, c&#8217;est de ne pas copier/coller de code !</p></div>
<div class="paragraph"><p>Il ne faut pas se répéter (Don&#8217;t Repeat Yourself), factoriser votre code.
Même si ce paradigme est un peu mis à mal dans les approches DDD (certain contournant le <em>Don&#8217;t</em> en <em>Do</em>),
il n&#8217;en demeure pas moins que l&#8217;idée première est de limiter les impacts de maintenance.</p></div>
<div class="paragraph"><p>Adapter à ces pipelines, cela veut dire qu&#8217;on peut factoriser un certain nombre d&#8217;actions,
Afin d&#8217;apporter rapidement des automatisations à des processus à condition qu&#8217;ils répondent à certains standards.
"</p></div></aside></div></section><section id="_exemple" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">deliver_npm_package:
  script:
    - ./is_it_friday.sh
    - npm publish # Livraison NPM
    - ./alert_ops_team.sh
    - ./send_an_email_to_PO.sh

deliver_app:
  script:
    - ./is_it_friday.sh
    - ftp -u myapp.tar.gz # Livraison FTP
    - ./alert_ops_team.sh
    - ./send_an_email_to_PO.sh</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">.deliver:
  before_script:
    - ./is_it_friday.sh
  after_script:
    - ./alert_ops_team.sh
    - ./send_an_email_to_PO.sh

deliver_npm_package:
  extends: .deliver
  script:
    - npm publish  # Livraison NPM

deliver_app:
  extends: .deliver
  script:
    - ftp -u myapp.tar.gz # Livraison FTP</code></pre></div></div></div></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>Dans l&#8217;exemple suivant :</p></div>
<div class="paragraph"><p>Dans notre cas, on a une routine pour les déploiements</p></div>
<div class="ulist"><ul><li><p>est-ce qu&#8217;on est vendredi ?</p></li><li><p>On livre &#8658; le script qui va bien</p></li><li><p>on prévient les ops (mail, notif, etc.)</p></li><li><p>on prévient le po de la livraison</p></li></ul></div>
<div class="paragraph"><p>Ici on peut factoriser grace aux outils fournis par la CI</p></div>
<div class="ulist"><ul><li><p>gitlab-ci avec after et before script</p></li></ul></div>
<div class="paragraph"><p>L&#8217;interet de pouvoir réutiliser la routine pour plsuieurs type de déploiement.</p></div>
<div class="paragraph"><p>L&#8217;autre avantage est de bien faire la distinction entre le déploiement en tant que tel et ce qui tourne autour.</p></div></aside></div></section><section id="_exemple_2" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="title">top-jobs.yaml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">.deliver:
  variables:
    DELIVER_TASK: ''
  script:
    - ./is_it_friday.sh
    - $DELIVER_TASK
    - ./alert_ops_team.sh
    - ./send_an_email_to_PO.sh</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="title">gitlab-ci.yml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">include:
  - project: 'devops-team/tools'
    file: 'top-jobs.yaml'

deliver_npm_package:
  extends: .deliver
  script:
    - npm publish

deliver_app:
  extends: .deliver
  script:
    - ftp -u myapp.tar.gz</code></pre></div></div></div></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann :
On voit ici une autre façon de factoriser :
* Soit on passe par des variables &#8658; comme des paramètres de fonction</p></div>
<div class="paragraph"><p>Mais en plus, en sortant le template dans un autre fichier : on peut aller plus loin à en globalisant entre projets !</p></div></aside></div></section><section id="_mais_pas_trop" class="ci-cd background"><h2>&#8230;&#8203;mais pas trop !</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Attention à trop de factorisation</p></li><li><p>Même défaut que dans le code, impact plus important</p></li><li><p>CD aime pas trop ça</p></li><li><p>On va voir ce qu&#8217;on peut faire</p></li></ul></div>
<div class="paragraph"><p>"
Attention cependant à trop de factorisation&#8230;&#8203;
Si une amélioration apportée à une action factorisée profite à tous,
une erreur dans une actions factoriser aura un impact beaucoup plus important&#8230;&#8203;
Et ca généralement CD, il n&#8217;aime pas&#8230;&#8203;
"</p></div></aside></div></section><section id="_un_couple_solid" class="ci-cd background"><h2>Un couple SOLID ?</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/guylookingatgirl.png" alt="guylookingatgirl"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Dans le monde du dev, nous avons la conception SOLID, alors la question se pose</p></li><li><p>Est-ce que l&#8217;on peut appliquer les principes SOLID à notre couple CI/CD et leur petits pipelines ?</p></li></ul></div>
<div class="paragraph"><p>On peut se poser la question &#8230;&#8203;</p></div></aside></div></section><section id="_une_responsabilité_unique" class="ci-cd background"><h2>Une responsabilité unique</h2><div class="slide-content"><div class="paragraph"><p><em><strong>S</strong>OLID (Single responsibility)</em></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Commençons par le S de Solid</p></li></ul></div>
<div class="paragraph"><p>"
Nul doute que si la séparation des responsabilités à fait ses preuves dans les processus,
le fait que chaque action ait une responsabilité unique est également un facteur de réussite !</p></div>
<div class="paragraph"><p>Appliqué aux pipelines, comprenez qu&#8217;un job, ne doit faire qu&#8217;une et une seule chose !
Cela vous permettra d&#8217;avoir des éléments plus unitaires, plus simple à maintenir,
plus répétable (si ca plante&#8230;&#8203;), et surtout plus simple à insérer dans un processus !
"</p></div></aside></div></section><section id="_exemple_3" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-none" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">package:
  image: node
  before_script:
    - # install my tools :-D
  script:
    - npm run build
    - sonar-scanner ...
    - docker build</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/single-respo-1-bad.png" alt="single respo 1 bad"></span></p></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">build:
  image: node
  script:
    - npm ...

analyse:
  image : sonar-scanner
  script:
    - sonar-scanner ...

publish:
  image: gcr.io/kaniko-project/executor:debug
  script:
    - /kaniko/executor ...</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/single-respo-1-good.png" alt="single respo 1 good"></span></p></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann:</p></div>
<div class="paragraph"><p>Dans ce premier exemple, on voit que les étapes pour pouvoir packager passe par le build, le scanner de qualité et finalement le build de l&#8217;image docker
Dans le cas présent, gitlab-ci, une image docker, nécessité d&#8217;installé tout les outils pour toutes les étapes.</p></div>
<div class="paragraph"><p>Complexe, difficilement maintenable et pas modulable</p></div>
<div class="paragraph"><p>Donc, on va faire plusieurs jobs, plusieurs stages, image spécifique avec les outils déjà présent.</p></div>
<div class="paragraph"><p>(on peut faire pareil avec jenkins :))</p></div></aside></div></section><section id="_exemple_4" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-none" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">deploy:
  script:
    - deploy-db.sh
    - deploy-app.sh
    - deploy-doc.sh</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/single-respo-bad.png" alt="single respo bad"></span></p></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">deploy_doc:
  ...

deploy_app:
  ...

deploy_db:
  ...</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/single-respo-good.png" alt="single respo good"></span></p></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>Ici, on va préférer avec des jobs différents pour les différents types d&#8217;élément à déployer. Ce sera plus simple à maintenir dans le temps, et ce n&#8217;est tout simplement pas la même chose. De plus, de cette façon, vous pourrez plus facilement réutiliser vos jobs.</p></div>
<div class="paragraph"><p>Ca peut paraitre bête dit comme ça, mais on voit souvent le build ou le deploiement dans les mêmes jobs, autant en faire plusieurs et les paralléliser</p></div></aside></div></section><section id="_rester_ouvert" class="ci-cd background"><h2>Rester ouvert&#8230;&#8203;</h2><div class="slide-content"><div class="paragraph"><p><em>S<strong>O</strong>LID (Open/Closed principle)</em></p></div>
<aside class="notes"><div class="paragraph"><p>Nico:</p></div>
<div class="ulist"><ul><li><p>Continuons avec le O, Open Closed Principles, probablement le principe le plus maltraité dans les pipelines</p></li><li><p>Fermé sur sa responsabilité</p></li><li><p>Ouvert à la configuration</p></li></ul></div>
<div class="paragraph"><p>"
Un des impacts de la factorisation, décrite précédemment,
est que l&#8217;on va avoir tendance à rendre les actions figées pour tous
Il est donc indispensable que des jobs factorisés puissent contraindre ce qui est de leurs responsabilités,
mais laisser libre ce qui relève de leur intégration dans le processus</p></div>
<div class="paragraph"><p>Par exemple, un job qui assure un build java, de standardiser les outils qu&#8217;il utilise (gradle, version de java). Mais il doit permettre de configurer le lieu du dépot d&#8217;artefact ou son mode de gestion de version.
"</p></div></aside></div></section><section id="_exemple_5" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-none" style="width:100%"><colgroup><col style="width:33.3333%"><col style="width:33.3333%"><col style="width:33.3334%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">.bad-sonar:
  variables:
    PROJECT_KEY: ''
  script:
    - |
        sonar-scanner -Dsonar.projectKey=$PROJECT_KEY
        -Dsonar.sources=./src
        -Dsonar.tests=tests/</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/open-closed-bad.png" alt="open closed bad"></span></p></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">.good-sonar:
  variables:
    PROJECT_KEY: ''
    SONAR_EXTRA_PARAMETERS: ''
  script:
    - sonar-scanner -Dsonar.projectKey=$PROJECT_KEY \
      -Dproject.settings=./sonar-project.properties \
      $SONAR_EXTRA_PARAMETERS</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/open-closed-good.png" alt="open closed good"></span></p></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>Nous trouvons ici un template de job permettant de faire une analyse sonar. On peut voir dans le premier cas, que si on veut ajouter des nouveaux paramètres à Sonar, il va falloir modifier la ligne de commande ou la surcharger complètement.</p></div>
<div class="paragraph"><p>Dans le deuxième, le template nous propose deux manières d&#8217;étendre le job, on peut passer par le fichier de configuration de sonar ou ajouter directement des paramètres à la ligne de commande via les variables.</p></div>
<div class="paragraph"><p>On conserve donc le fait que l&#8217;on exige la définition du project_key mais le reste de configuration est complètement modifiable.</p></div></aside></div></section><section id="_liskov_à_la_rescousse" class="ci-cd background"><h2>Liskov à la rescousse&#8230;&#8203;</h2><div class="slide-content"><div class="paragraph"><p><em>SO<strong>L</strong>ID (Liskov substitution)</em> &#8230;&#8203;ou pas !</p></div>
<div class="paragraph"><p><span class="image"><img src="./images/barbara_liskov.png" alt="Barbara Liskov" width="50%"></span><sup class="footnote">[<span class="footnote" title="View footnote.">1</span>]</sup></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Le L de SOLID, La subsitution de Liskov</p></li><li><p>Dites bonjour à Barbara (c&#8217;est vraiment elle sur la photo qui a théorisé cette principe)</p></li></ul></div>
<div class="paragraph"><p>"
Le troisième principe applicable à la programmation objet ne l&#8217;est pas aux pipelines&#8230;&#8203;
On ne va même pas vous le décrire, il faut avoir conscience de ses limites !!!!!
"</p></div></aside></div><div class="footnotes"><div class="footnote">1. Barbara Liskov</div></div></section><section id="_ségrégation_dinterface" class="ci-cd background"><h2>Ségrégation d&#8217;interface</h2><div class="slide-content"><div class="paragraph"><p><em>SOL<strong>I</strong>D (Interface segregation)</em></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>I comme Interface Segregation</p></li></ul></div>
<div class="paragraph"><p>"
La notion d&#8217;interface dans les pipelines est, elle aussi, difficile à identifier.
Pour autant, la réflexion sous-jacente incitant à ce que des sous ensemble soient spécialisé sur une famille d&#8217;actions cohérentes est intéressante</p></div>
<div class="paragraph"><p>Si vous avez généralisé des jobs pour définir un processus complet, si vous voulez le réutiliser vous devrez vous conformer à l&#8217;ensemble !
En revanche, si vous avez produit des groupes de jobs, un pour vos terraform, un pour votre lib python, un pour votre documentation,
Vous pourrez selon les fonctions utiliser par vos projets, utiliser les groupes de jobs indépendamment des autres (ou presque).</p></div></aside></div></section><section id="_exemple_6" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-none" style="width:100%"><colgroup><col style="width:33.3333%"><col style="width:33.3333%"><col style="width:33.3334%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="title">template.yaml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">build:            #Assemble le Jar
  stage: build
analyse-code:     #Faire les analyses qualité
  stage: test
analyse-package:  #Faire les analyses qualité
  stage: test
package:          #Construire l'image Docker
  stage: package
can-i-deploy:     #Faire les analyses qualité
  stage: test
deploy:           #Déploie dans l'infra
  stage: deploy</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/interface-segragation-bad.png" alt="interface segragation bad"></span></p></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="title">maven-template.yaml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">build:            #Assemble le Jar
    ...
analyse-build:    #Faire les analyses qualité
    ...</code></pre></div></div>
<div class="listingblock"><div class="title">docker-template.yaml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">analyse-package:  #Faire les analyses qualité
    ...
package:          #Construire l'image Docker
    ...</code></pre></div></div>
<div class="listingblock"><div class="title">terrform-template.yaml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">can-i-deploy:     #Faire les analyses qualité
    ...
deploy:           #Déploie dans l'infra
    ...</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/interface-segragation-good.png" alt="interface segragation good"></span></p></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>Dans l&#8217;exemple suivant :</p></div>
<div class="ulist"><ul><li><p>pipeline/template de pipeline unique pour tout le monde</p></li><li><p>Dans l&#8217;idée c&#8217;est bien</p></li><li><p>Mais problèmatique si on a des besoins différents, exemple application vs librairie</p></li><li><p>Segregation d&#8217;interface : on va faire des templates par besoin puis potentiellement avec des templates qui rassemble d&#8217;autres templates</p></li></ul></div></aside></div></section><section id="_une_inversion_de_dépendance" class="ci-cd background"><h2>Une inversion de dépendance ?</h2><div class="slide-content"><div class="paragraph"><p><em>SOLI<strong>D</strong> (Dependency inversion)</em></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Et pour finir, l&#8217;inversion de dépendance</p></li><li><p>Qui va faire plaisir à CD surtout</p></li></ul></div>
<div class="paragraph"><p>"
Quand en POO vous essayer de faire les choses pas trop mal et que vous tendez vers les clean architectures,
les organisations hexagonales, vous êtes invité à préférer les dépendances aux interfaces (ou abstraction) plus qu&#8217;aux implémentations</p></div>
<div class="paragraph"><p>Adapté à vos pipelines, cela signifie qu&#8217;autant que possible vous devez dépendre du résultat de l&#8217;action précédente
et non de l&#8217;action précédente en elle-même.
CEà va vous permettre, en sas de problème de réaliser manuellement l&#8217;action précédente
et continuer de profiter de l&#8217;automatisation pour les actions suivantes !!!!
"</p></div></aside></div></section><section id="_exemple_7" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-none" style="width:100%"><colgroup><col style="width:33.3333%"><col style="width:33.3333%"><col style="width:33.3334%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml">deliver-on-artifactory:
  script: ./push_artefact_to_repo.sh

deploy: # Attend que l'étape de livraison soit ok
  needs: [deliver-on-artifactory]
  script: ./deploy.sh</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/dependency-inversion-bad.png" alt="dependency inversion bad"></span></p></td></tr><tr><td class="tableblock halign-left valign-top" colspan="2"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-noescape="true" data-lang="yaml"># Doit déposer l'artefact au bon endroit
deliver:
  script: ./push_artefact_to_repo.sh

# Vérifie que l'artefact soit bien présent
check_artefact_readiness:
  script: ./check_artefact.sh

# Déploie si l'artefact est au bon endroit
# (contrat respecté)
deploy:
  needs: [check_artefact_readiness]
  script: ./deploy.sh</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/solid/dependency-inversion-good.png" alt="dependency inversion good"></span></p></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann :
Dans notre premier cas, le job deploy est dépendant de l&#8217;execution de deliver, ce qui est assez classique.</p></div>
<div class="paragraph"><p>Mais pour rendre le job indépendant, on peut très bien définir un job "de contrôle" (une interface) qui va vérifier que l&#8217;artefact doit être bien présent au bon endroit avant de lancer le déploiement. Ainsi, c&#8217;est le job deliver (ou un job de transition ou "un adapter par exemple") qui doit "respecter" les règles imposées par le job deploy. Ce qui rend mécaniquement les jobs indépendants l&#8217;un de l&#8217;autre.</p></div></aside></div></section><section id="_un_peu_de_lacher_prise" class="ci-cd background"><h2>Un peu de lacher prise ?</h2><div class="slide-content"><div class="paragraph"><p><em>Le risque du "tout automatique"</em></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Comme dit precedement, CI et CD ont des divergences, des complémentarités et surtout un même objectif</p></li><li><p>Même si on arrive à construire un pipeline qui convienne à CI et CD</p></li><li><p>Et malgré tout ces principes SOLID, on a toujours un problème</p></li><li><p>Si le pipeline va de bout en bout, même si on fait attention, si le moindre grain de sable se met dans les rouages, ça va pété</p></li></ul></div>
<div class="paragraph"><p>"
Si on reprend ce qu&#8217;on vous a dit précédemment, malgré nos différences, nous avons de vraies convergences,
et surtout une grande complémentarité entre ces deux là !</p></div>
<div class="paragraph"><p>Si on reprend l&#8217;enchainement de nos phases qui emmène le code jusqu&#8217;en production on voit bien que chacun peut apporter sa pierre à l&#8217;édifice.
Mais il y a une condition pour ca : Qu&#8217;un grain de sable ne vienne pas bloquer toute la chaine.
"</p></div></aside></div></section><section id="_exemple_8" class="ci-cd background"><h2>Exemple</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="title">Jenkinsfile.build</div><div class="content"><pre class="highlightjs highlight"><code class="language-json hljs" data-noescape="true" data-lang="json">{
  ...,
  stage ('deliver') {
    build '../proj-deliver/master'
  }
}</code></pre></div></div>
<div class="listingblock"><div class="title">Jenkinsfile.deliver</div><div class="content"><pre class="highlightjs highlight"><code class="language-json hljs" data-noescape="true" data-lang="json">{
  stage('check requirements') {}
  stage('Deploy approval') {
    input "Deploy to prod ?"
  }
  stage ('deploy') {
    build '../proj-deliver/master'
  }
}</code></pre></div></div>
<div class="listingblock"><div class="title">Jenkinsfile.deploy</div><div class="content"><pre class="highlightjs highlight"><code class="language-json hljs" data-noescape="true" data-lang="json">{
  stage('check requirements') {}
  ...,
}</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock"><img src="./images/solid/debrayable.png" alt="debrayable"></div></div></td></tr></table>
<aside class="notes"><div class="paragraph"><p>Yann :
Ici, on voit deux façons d&#8217;intervenir pendant le déroulement d&#8217;un pipeline, on peut faire des pipelines différents qui se déclenchent les uns les autres :ce qui nous permet de déclencher soit toutes les actions, soit lancer les pipelines à différentes étapes. Et une autre possibilité, c&#8217;est de mettre des points d&#8217;arrêt dans les pipelines permettant d&#8217;attendre une action manuelle avant de continuer.</p></div></aside></div></section><section id="_pouvoir_debrayer" class="ci-cd background"><h2>Pouvoir debrayer !</h2><div class="slide-content"><div class="paragraph"><p><em>Ou l&#8217;art de faire des pauses</em></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Il faut donc pouvoir debrayer</p></li><li><p>Mettre des points d&#8217;arrêt</p></li><li><p>L&#8217;importance de l&#8217;inversion de dépendance</p></li><li><p>Gain en lisibilité, surtout sur les points d&#8217;arrêt défini lors des ateliers de création des pipelines</p></li><li><p>Pouvoir reprendre/relancer</p></li></ul></div>
<div class="paragraph"><p>"
Nous en avons un peu parlé sur le D de SOLID, mais la dépendance, aussi inévitable soit-elle, doit être réfléchie.
Selon nous, l&#8217;une des clés de la réussite réside dans la présence régulière de point d&#8217;inférence qui sont bien matérialisé sur ce schéma.</p></div>
<div class="paragraph"><p>Ainsi chaque phase va à la fois être dépendant du résultat de la précédente, mais indépendant en terme d&#8217;action.
Si vos pipelines répondent à ces principes vous gagnerez naturellement en lisibilité, et en maintenabilité,
et vous aurez la possibilité de débrayer ou non le coté automatique de l&#8217;étape !
"</p></div></aside></div></section><section id="_points_dinférence" class="ci-cd background"><h2>Points d&#8217;inférence</h2><div class="slide-content"><div class="imageblock"><img src="./images/decouplage.svg" alt="decouplage"></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Si on envoie le résultat en directe à l&#8217;étape d&#8217;après :</p><div class="ulist"><ul><li><p>On ne peut pas tester</p></li><li><p>On ne peut pas débrayer manuellement la tache précédente</p></li></ul></div></li><li><p>Si un élément est en échec</p><div class="ulist"><ul><li><p>On ne peut pas le relancer sans relancer l&#8217;intégralité</p></li><li><p>On ne peut pas tester / valider (voir utiliser) les résultats intermédiaires</p></li></ul></div></li></ul></div></aside></div></section><section id="_oups" class="ci-cd background"><h2>Oups &#8230;&#8203;</h2><div class="slide-content"><div class="imageblock"><img src="./images/complexite.png" alt="complexite"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Bon ok, c&#8217;est devenu vraiment le bordel là</p></li><li><p>C&#8217;est normal, mieux connu par le monde CI (le monde de dev) que CD</p></li><li><p>Petit point sur la complexité</p></li></ul></div>
<div class="paragraph"><p>"
On vous l&#8217;a dit, il y a une complexité dont on ne peut pas se passer, la complexité essentielle,
ou qu&#8217;on ne peut réduire au départ, celle qui est, au moins au départ, obligatoire&#8230;&#8203;
Mais si on peut éviter d&#8217;ajouter de la complexité accidentelle, nous y seront tous gagnant !
"</p></div></aside></div></section><section id="_le_monde_des_bisounours" class="ci-cd background"><h2>Le monde des Bisounours</h2><div class="slide-content"><div class="imageblock"><img src="./images/bisounours.png" alt="bisounours"></div>
<div class="paragraph fragment"><p>KISS : Keep It Simple Stupid</p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Mais il reste un dernier principe : KISS</p></li><li><p>Bon, on vous a présenté quelques principes et concepts</p></li><li><p>pour vous aider à implementer le pipeline : ref deuxième partie de la prez</p></li><li><p>pour faire plaisir et aider le couple CI/CD</p></li><li><p>Si vous n&#8217;avez pas besoin de tout ça, ne le faite pas</p></li><li><p>Restez simple</p></li></ul></div>
<div class="paragraph"><p>"
Mais quand même&#8230;&#8203;
Le lien la relation, les marques d&#8217;affection restent essentiel, alors pensons KISS s&#8217;il vous plait !</p></div>
<div class="paragraph"><p>Vous l&#8217;aurez compris, on parle ici de penser les choses plus simplement (Keep It Simple Stupid),
plus que d&#8217;échanges physiques (ce n&#8217;est pas à la mode ne plus&#8230;&#8203;) !
"</p></div></aside></div></section><section id="_qui_est_ce_thérapeute" class="basics background" data-transition="slide-in zoom-out"><h2>Qui est ce thérapeute ?</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>La Difficulté pour faire des pipelines s&#8217;est accrue</p></li><li><p>Comprehension technique globale de CI CD</p></li><li><p>Ce n&#8217;est ni du dev ni de l&#8217;ops, mais un peu des deux</p></li><li><p>Donc comment faire ?</p></li></ul></div></aside></div></section></section>
<section><section id="_un_plan_à_trois" class="devops background"><h2>Un plan à trois</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p><strong>Yann  [40 min] </strong>:</p></div>
<div class="ulist"><ul><li><p>On a vu CI, et fait la rencontre de CD</p></li><li><p>Un troisième larron est arrivé : DevOps</p></li><li><p>Pour gérer tout ce chantier et "accompagner" CI/CD dans leur vie de couple</p></li></ul></div>
<div class="paragraph"><p>"
On vous a parlé de CI, issue de la famille Dev.
De CD, dont les origines se trouvent plutôt dans la famille Ops&#8230;&#8203;
Mais relativement récemment nous avons constaté la présence d&#8217;un troisième larron : DevOps
"</p></div></aside></div></section><section id="_larrivée" class="devops background"><h2>L&#8217;arrivée&#8230;&#8203;</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/devops-arrival.png" alt="devops arrival" width="50%"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Il est arrivé parce que ça commençait à être compliqué</p></li><li><p>Vu que tout était dans le code, CI a voulu tout faire</p></li><li><p>Sans comprendre entièrement les enjeux de CD, ou savoir comment faire</p></li><li><p>C&#8217;est comme ça qu&#8217;est arrivé la culture DevOps, pour gérer la relation CI/CD</p></li></ul></div>
<div class="paragraph"><p>"
Directement lié à la présence de tout, et peut être de n&#8217;importe quoi, dans le code,
mais aussi de lié à la volonté de rapprocher deux mondes avec des enjeux très différents,
de nouvelles tendances sont arrivées&#8230;&#8203;</p></div>
<div class="paragraph"><p>Là, évidemment, depuis le début, vous nous voyez arriver &#8230;&#8203;
Nous vons avons présenté un processus relativement linéaire qui part du code,
et qui arrive à un service disponible pour ses utilisateurs.
"</p></div></aside></div></section><section id="_la_boucle_est_bouclée" class="devops background"><h2>La boucle est bouclée</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/devops.png" alt="devops"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Mais même si le pipeline allait jusqu&#8217;au déploiement</p></li><li><p>On ne savait pas ce qu&#8217;il se passait après la fin du pipeline</p></li><li><p>On a donc rajouté Monitor (qui n&#8217;est pas que du monitoring de plateforme, il permet aussi de vérifier que le deploiement soit OK)</p></li><li><p>Et plan, pour intégrer les évolutions en fonction de monitor</p></li><li><p>Et BIM, la boucle est bouclée</p></li><li><p>Génial d&#8217;un point de vue market'</p></li></ul></div>
<div class="paragraph"><p>"
Mais comment savoir ce qui se passe vraiment ?
On conceptualise alors deux phases supplémentaires : Monitor et Plan.
La première vis à mesurer ce qui se passe en production,
et à le reboucler vers les responsables métier pour qu&#8217;ils fassent évoluer les applications.
La seconde intègre au processus global la planification des modifications fermant la boucle et la rendant infinie !</p></div>
<div class="paragraph"><p>Intéressant d&#8217;un point de marketing non ?
"</p></div></aside></div></section><section id="_lémergence" class="devops background"><h2>L&#8217;émergence</h2><div class="slide-content"><div class="imageblock"><img src="./images/pipeline-people-devops.png" alt="pipeline people devops"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>La culture DevOps demande des compétences transverses</p></li><li><p>Prendre en compte les besoins de chacun (Build, qualité pour CI, deliver, deployment pour CD)</p></li><li><p>Adosser le fonctionnement/outils de l&#8217;entreprise au process</p></li><li><p>Donc emergence des équipes DevOps</p></li><li><p>Lien entre la CI (les devs) et la CD (les ops)</p></li></ul></div>
<div class="paragraph"><p>"
Les difficultés que pose la culture dEvOps dans beaucoup de structure sont souvent
le manque de compétences pour adosser des outils à des processus définis.</p></div>
<div class="paragraph"><p>Et assez naturellement ce qui va arriver est l&#8217;émergence d&#8217;une équipe DevOps
entre les équipes de réalisation et les responsables infrastructure.
"</p></div></aside></div></section><section id="_des_accompagnateurs" class="devops background"><h2>Des accompagnateurs</h2><div class="slide-content"><div class="imageblock"><img src="./images/matrice-maturite.png" alt="matrice maturite" width="80%"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Technique bien sur !<br>
Sur des compétences fortes, transverses, d&#8217;outils</p></li><li><p>Un accompagnement méthodologique<br>
Positionnement, Culture, amélioratisons</p></li></ul></div></aside></div></section><section id="_une_question_de_communication" class="devops background"><h2>Une question de communication</h2><div class="slide-content"><div class="imageblock"><img src="https://media.giphy.com/media/WySK0nQiJKLy25HLhp/giphy.gif" alt="giphy"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Sauf que souvent, au lieu d&#8217;avoir une équipe qui cherche à favoriser la comm' dev et ops</p></li><li><p>On a une équipe qui se positionne au milieu au lieu d&#8217;améliorer l&#8217;échange</p></li><li><p>On se retrouve donc avec une nouvelle équipe qui doit comprendre et le dev, et l&#8217;ops</p></li><li><p>Et DevOps est souvent plus proche de CI, de nouveaux problèmes de communication arrivent avec CD.</p></li><li><p>Et vu que DevOps, n&#8217;est pas CI non plus, il y a donc des problèmes de comm' avec CI</p></li></ul></div>
<div class="paragraph"><p>"
Et finalement au lieu de favoriser la communication entre deux entités,
on en a inventé une troisième qu&#8217;on a mise au milieu.
Une sorte de médiateur de couple, souvent issu de monde de dev, donc proche de CI.
Et on remarque que dans de nombreuses structures, les difficultés de compréhensions demeurent,
soit entre la réalisation et l&#8217;équipe dite DevOps, soit entre cette dernière et les ops.
"</p></div></aside></div></section><section id="_bref_3" class="devops background"><h2>Bref&#8230;&#8203;</h2><div class="slide-content"><div class="imageblock"><img src="./images/geek-evolution.png" alt="geek evolution"></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>C&#8217;est bien de théoriser un nouveau concept, mais ça n&#8217;a jamais fluidifié les échanges entre les équipes</p></li><li><p>L&#8217;ajout d&#8217;une équipe DevOps n&#8217;aura pas le même impact en fonction des couples CI/CD auprès duquel elle intervient</p></li></ul></div>
<div class="paragraph"><p>"
Bref, ajouter un concept n&#8217;a jamais fluidifié les échanges et un médiateur n&#8217;a pas systématiquement le même impact sur tous les couples !
"</p></div></aside></div></section><section id="_faisons_le_point" class="basics background" data-transition="slide-in zoom-out"><h2>Faisons le point</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>On arrive donc à la fin de notre exposé</p></div>
<div class="ulist"><ul><li><p>Méthodo de conception</p></li><li><p>Les éléments problématiques</p></li><li><p>Quelques solutions issues du dev</p></li><li><p>La mouvance DevOps</p></li></ul></div></aside></div></section></section>
<section><section id="_cest_lheure_du_choix" class="basics background"><h2>C&#8217;est l&#8217;heure du choix</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p><strong>Nico  [45 min] </strong>:</p></div>
<div class="ulist"><ul><li><p>On va donc devoir faire un choix</p></li><li><p>On va vous proposer trois possibilités qui ne sont pas exhaustives !</p></li><li><p>Rappel du thème de la prez : CI/CD, le divorce est-il prononcé ?</p></li></ul></div>
<div class="paragraph"><p>"
Et c&#8217;est bien connu : Choisir c&#8217;est renoncer ! Mais renoncer à quoi ?
"</p></div></aside></div></section><section class="separation background"><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/choix/bolt-solid.svg" alt="ci" width="25%"></span>
<span class="image"><img src="./images/solid/slash-solid.svg" alt="ci" width="40%"></span>
<span class="image"><img src="./images/choix/gear-solid.svg" alt="cd" width="30%"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>CI et CD se sépare, oui, le divorce</p></li></ul></div>
<div class="paragraph"><p>"
C&#8217;est un peu la facette <em>monde d&#8217;avant</em> que l&#8217;on vous propose !
"</p></div></aside></div></section><section id="_séparation_des_responsabilités" class="separation background"><h2>Séparation des responsabilités</h2><div class="slide-content"><div class="ulist step"><ul><li class="fragment"><p><span class="image"><img src="./images/choix/bolt-solid.svg" alt="ci" width="4%"></span> Construction</p></li><li class="fragment"><p><span class="image"><img src="./images/choix/bolt-solid.svg" alt="ci" width="4%"></span> Assemblage</p></li><li class="fragment"><p><span class="image"><img src="./images/choix/gear-solid.svg" alt="ci" width="5%"></span> Mise en service</p></li><li class="fragment"><p><span class="image"><img src="./images/choix/gear-solid.svg" alt="ci" width="5%"></span> Règles</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="paragraph"><p>"
Maintenir la responsabilité de la CI,
et éventuellement du Delivery (production de package) à la main de la famille Dev.
ELle possède ses propres outils, vie sa vie dans son coin sans embêter personne (ou presque).</p></div>
<div class="paragraph"><p>CD lui conserve la responsabilité des mises en services quelques soit les envrionnements.s
La famille Ops peut imposer certaines règles qui ne seront généralement pas comprise par Dev&#8230;&#8203;
"</p></div></aside></div></section><section class="separation background"><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/choix/bolt-solid.svg" alt="ci" width="25%"></span>
<span class="image"><img src="./images/solid/slash-solid.svg" alt="ci" width="40%"></span>
<span class="image"><img src="./images/choix/gear-solid.svg" alt="cd" width="30%"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :
"
Mais finalement, est-ce que dans des organisations très (trop) structurée ça ne fonctionne pas bien comme ça ?
Même si ce n&#8217;est pas notre point de vue,
il vaut peut-être mieux ce type d&#8217;organisation qui fonctionnent que d&#8217;autre qui partent dans le mur&#8230;&#8203;
"</p></div></aside></div></section><section class="mediation background"><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/choix/bolt-solid.svg" alt="ci" width="15%"></span>
<span class="image"><img src="./images/solid/slash-solid.svg" alt="ci" width="20%"></span>
<span class="image"><img src="./images/choix/gear-solid.svg" alt="cd" width="20%"></span></p></div>
<div class="paragraph"><p><span class="image"><img src="./images/choix/infinity-solid.svg" alt="cd" width="30%"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="ulist"><ul><li><p>Ils restent en couple, mais accompagné par un thérapeute</p></li><li><p>On met en place une équipe DevOps</p></li><li><p>On rajoute une couche de bordel dans l&#8217;organisation</p></li><li><p>Choix stratégique d&#8217;entreprise</p></li><li><p>Malgré ce qu&#8217;on a dit avant</p></li></ul></div>
<div class="paragraph"><p>"
Cette option-là est un vrai choix stratégique !</p></div>
<div class="paragraph"><p>On s&#8217;autorise à ajouter de l&#8217;entropie à l&#8217;organisation pour permettre aux services ou aux produits,
qui le veulent ou le peuvent, d&#8217;intégrer une structure technique tendant vers le Continious Developpement,
voir le DevOps selon les stacks en jeu !
"</p></div></aside></div></section><section id="_et_pourquoi_pas" class="mediation background"><h2>Et pourquoi pas&#8230;&#8203;</h2><div class="slide-content"><div class="paragraph fragment"><p>Proposer sans imposer, critiquer sans discréditer</p></div>
<div class="paragraph fragment"><p>Vecteur de la culture DevOps</p></div>
<aside class="notes"><div class="paragraph"><p>Yann :</p></div>
<div class="paragraph"><p>"
En un sens, une très bonne <em>équipe DevOps</em> (comprendre une équipe de médiation technique qui propose des services <em>It for IT</em> et évangélise sur ces outils)
peut être une pierre angulaire à la transformation d&#8217;un SI.</p></div>
<div class="paragraph"><p>En effets si elle propose sans imposer, qu&#8217;elle critique sans discréditer,
ou simplement qu&#8217;elle accompagne la prise en main des outils, voir la montée en compétences des équipiers,
elle peut avoir une vraie valeur dans la chaine CI/CD.
"</p></div></aside></div></section><section class="union background"><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="./images/choix/devops.svg" alt="cd"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Nico :</p></div>
<div class="ulist"><ul><li><p>Leur union est plus forte que jamais</p></li><li><p>Notre choix</p></li><li><p>Plus d&#8217;équipe DevOps, mais une vraie culture</p></li><li><p>Comme imaginé à la base</p></li><li><p>Le plus difficile, mais probablement le plus efficace</p></li><li><p>L&#8217;équipe est composée des devs et des ops</p></li><li><p>L&#8217;équipe doit avoir toutes les compétences (on parle de l&#8217;équipe, pas de vous tout seul)</p></li><li><p>Ouverture d&#8217;esprit</p></li><li><p>CI et CD forme un vrai couple pour faire de jolis pipelines ensemble</p></li></ul></div>
<div class="paragraph"><p>"
C&#8217;est sans aucuns doutes notre choix du cœur&#8230;&#8203;
Ici, le devops n&#8217;est plus une équipe, mais un culture et une pratique d&#8217;entreprise, comme imaginez à l&#8217;origine.</p></div>
<div class="paragraph"><p>On peut reconnaitre en revanche que c&#8217;est sans doute la proposition la plus délicate à mettre en œuvre.
Les compétences de l&#8217;ensemble de votre équipe (pas de vous seul hein !)
et l&#8217;état d&#8217;esprit nécessaire pour que tout ce petit monde travaille ensemble n&#8217;est pas facile à obtenir.
"</p></div></aside></div></section><section id="_cicd_le_divorce_est_il_prononcé" class="main-title background end-title"><h2>CI/CD, le divorce est-il prononcé ?</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Yann</p></div>
<div class="ulist"><ul><li><p>Peut-être, mais on aura appris à se connaitre les uns les autres</p></li><li><p>Tout est une histoire d&#8217;empathie et de communication</p></li><li><p>Un thérapeute externe peut parfois être nécessaire</p></li><li><p>et de tout façon, rien n&#8217;est jamais définitif, peut-être qu&#8217;un jour ce petit couple sera heureux et que auront tout plein de petits pipelines.</p></li><li><p>Merci !</p></li></ul></div></aside></div></section></section>
<section id="_a_vous_de_jouer" class="end code background"><h2>A vous de jouer !</h2><div class="slide-content"><div class="paragraph"><p>@nicgiro / @YannSchepens</p></div>
<aside class="notes"><div class="paragraph"><p><strong>[50 min] </strong></p></div>
<div class="paragraph"><p>Si vous vous reconnaissez dans tous les examples qu&#8217;on a montré,<br>
si vous envisager appliquer chacun des concepts, ou de nos examples,<br>
si avez compris que le code est la solution à toutes vos difficultés,<br>
vous allez avoir un problème&#8230;&#8203;</p></div>
<div class="paragraph"><p>Repasser par la méthodo de définition, et focalisez vous sur KISS !!!!<br>
Et comment simlplifier vos processus, sinon, vos pipelines ne seront pas maintenable !<br>
Et CI et CD seront vraiment très triste</p></div></aside></div></section>
<section id="_références" class="basics background"><h2>Références</h2><div class="slide-content"><div class="ulist"><ul><li><p>SOLID<br>
<a href="https://fr.wikipedia.org/wiki/SOLID_(informatique" class="bare">https://fr.wikipedia.org/wiki/SOLID_(informatique</a>)</p></li><li><p>Event Storming<br>
<a href="https://pablopernot.fr/2019/07/event-storming-description/" class="bare">https://pablopernot.fr/2019/07/event-storming-description/</a></p></li><li><p>Software crafter<br>
<a href="https://www.slideshare.net/__MaxS__/software-craftsmanship-un-nouvel-eldorado" class="bare">https://www.slideshare.net/__MaxS__/software-craftsmanship-un-nouvel-eldorado</a></p></li><li><p>DevOps<br>
<a href="https://fr.wikipedia.org/wiki/Devops" class="bare">https://fr.wikipedia.org/wiki/Devops</a></p></li></ul></div></div></section></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/js/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
});

// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: 'true',
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Add the current slide number to the URL hash so that reloading the
  // page/copying the URL will return you to the same slide
  hash: false,
  // Push each slide change to the browser history. Implies `hash: true`
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Disables the default reveal.js slide layout so that you can use custom CSS layout
  disableLayout: false,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // See https://github.com/hakimel/reveal.js/#navigation-mode
  navigationMode: 'default',
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Global override for preloading lazy-loaded iframes
  // - null: Iframes with data-src AND data-preload will be loaded when within
  //   the viewDistance, iframes with only data-src will be loaded when visible
  // - true: All iframes with data-src will be loaded when within the viewDistance
  // - false: All iframes with data-src will be loaded only when visible
  preloadIframes: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 30,
  // Specify the total time in seconds that is available to
  // present.  If this is set to a nonzero value, the pacing
  // timer will work out the time available for each slide,
  // instead of using the defaultTiming value
  totalTime: 0,
  // Specify the minimum amount of time you want to allot to
  // each slide, if using the totalTime calculation method.  If
  // the automated time allocation causes slide pacing to fall
  // below this threshold, then you will see an alert in the
  // speaker notes window
  minimumTimePerSlide: 0,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hide cursor if inactive
  hideInactiveCursor: true,
  // Time before the cursor is hidden (in ms)
  hideCursorTime: 5000,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Number of slides away from the current that are visible on mobile
  // devices. It is advisable to set this to a lower number than
  // viewDistance in order to save resources.
  mobileViewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/plugin/zoom-js/zoom.js', async: true },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/plugin/notes/notes.js', async: true }
  ],

  

});</script><script>var dom = {};
dom.slides = document.querySelector('.reveal .slides');

function getRemainingHeight(element, slideElement, height) {
  height = height || 0;
  if (element) {
    var newHeight, oldHeight = element.style.height;
    // Change the .stretch element height to 0 in order find the height of all
    // the other elements
    element.style.height = '0px';
    // In Overview mode, the parent (.slide) height is set of 700px.
    // Restore it temporarily to its natural height.
    slideElement.style.height = 'auto';
    newHeight = height - slideElement.offsetHeight;
    // Restore the old height, just in case
    element.style.height = oldHeight + 'px';
    // Clear the parent (.slide) height. .removeProperty works in IE9+
    slideElement.style.removeProperty('height');
    return newHeight;
  }
  return height;
}

function layoutSlideContents(width, height) {
  // Handle sizing of elements with the 'stretch' class
  toArray(dom.slides.querySelectorAll('section .stretch')).forEach(function (element) {
    // Determine how much vertical space we can use
    var limit = 5; // hard limit
    var parent = element.parentNode;
    while (parent.nodeName !== 'SECTION' && limit > 0) {
      parent = parent.parentNode;
      limit--;
    }
    if (limit === 0) {
      // unable to find parent, aborting!
      return;
    }
    var remainingHeight = getRemainingHeight(element, parent, height);
    // Consider the aspect ratio of media elements
    if (/(img|video)/gi.test(element.nodeName)) {
      var nw = element.naturalWidth || element.videoWidth, nh = element.naturalHeight || element.videoHeight;
      var es = Math.min(width / nw, remainingHeight / nh);
      element.style.width = (nw * es) + 'px';
      element.style.height = (nh * es) + 'px';
    } else {
      element.style.width = width + 'px';
      element.style.height = remainingHeight + 'px';
    }
  });
}

function toArray(o) {
  return Array.prototype.slice.call(o);
}

Reveal.addEventListener('slidechanged', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('ready', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('resize', function () {
  layoutSlideContents(960, 700)
});</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.9.2/lib/css/monokai.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>

<script>

/* highlightjs-line-numbers.js 2.6.0 | (C) 2018 Yauheni Pakala | MIT License | github.com/wcoder/highlightjs-line-numbers.js */
/* Edited by Hakim for reveal.js; removed async timeout */
!function(n,e){"use strict";function t(){var n=e.createElement("style");n.type="text/css",n.innerHTML=g(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[v,L,b]),e.getElementsByTagName("head")[0].appendChild(n)}function r(t){"interactive"===e.readyState||"complete"===e.readyState?i(t):n.addEventListener("DOMContentLoaded",function(){i(t)})}function i(t){try{var r=e.querySelectorAll("code.hljs,code.nohighlight");for(var i in r)r.hasOwnProperty(i)&&l(r[i],t)}catch(o){n.console.error("LineNumbers error: ",o)}}function l(n,e){"object"==typeof n&&f(function(){n.innerHTML=s(n,e)})}function o(n,e){if("string"==typeof n){var t=document.createElement("code");return t.innerHTML=n,s(t,e)}}function s(n,e){e=e||{singleLine:!1};var t=e.singleLine?0:1;return c(n),a(n.innerHTML,t)}function a(n,e){var t=u(n);if(""===t[t.length-1].trim()&&t.pop(),t.length>e){for(var r="",i=0,l=t.length;i<l;i++)r+=g('<tr><td class="{0}"><div class="{1} {2}" {3}="{5}"></div></td><td class="{4}"><div class="{1}">{6}</div></td></tr>',[j,m,L,b,p,i+1,t[i].length>0?t[i]:" "]);return g('<table class="{0}">{1}</table>',[v,r])}return n}function c(n){var e=n.childNodes;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];h(r.textContent)>0&&(r.childNodes.length>0?c(r):d(r.parentNode))}}function d(n){var e=n.className;if(/hljs-/.test(e)){for(var t=u(n.innerHTML),r=0,i="";r<t.length;r++){var l=t[r].length>0?t[r]:" ";i+=g('<span class="{0}">{1}</span>\n',[e,l])}n.innerHTML=i.trim()}}function u(n){return 0===n.length?[]:n.split(y)}function h(n){return(n.trim().match(y)||[]).length}function f(e){e()}function g(n,e){return n.replace(/{(\d+)}/g,function(n,t){return e[t]?e[t]:n})}var v="hljs-ln",m="hljs-ln-line",p="hljs-ln-code",j="hljs-ln-numbers",L="hljs-ln-n",b="data-line-number",y=/\r\n|\r|\n/g;n.hljs?(n.hljs.initLineNumbersOnLoad=r,n.hljs.lineNumbersBlock=l,n.hljs.lineNumbersValue=o,t()):n.console.error("highlight.js not detected!")}(window,document);

/**
 * This reveal.js plugin is wrapper around the highlight.js
 * syntax highlighting library.
 */
(function( root, factory ) {
  if (typeof define === 'function' && define.amd) {
    root.RevealHighlight = factory();
  } else if( typeof exports === 'object' ) {
    module.exports = factory();
  } else {
    // Browser globals (root is window)
    root.RevealHighlight = factory();
  }
}( this, function() {

  // Function to perform a better "data-trim" on code snippets
  // Will slice an indentation amount on each line of the snippet (amount based on the line having the lowest indentation length)
  function betterTrim(snippetEl) {
    // Helper functions
    function trimLeft(val) {
      // Adapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill
      return val.replace(/^[\s\uFEFF\xA0]+/g, '');
    }
    function trimLineBreaks(input) {
      var lines = input.split('\n');

      // Trim line-breaks from the beginning
      for (var i = 0; i < lines.length; i++) {
        if (lines[i].trim() === '') {
          lines.splice(i--, 1);
        } else break;
      }

      // Trim line-breaks from the end
      for (var i = lines.length-1; i >= 0; i--) {
        if (lines[i].trim() === '') {
          lines.splice(i, 1);
        } else break;
      }

      return lines.join('\n');
    }

    // Main function for betterTrim()
    return (function(snippetEl) {
      var content = trimLineBreaks(snippetEl.innerHTML);
      var lines = content.split('\n');
      // Calculate the minimum amount to remove on each line start of the snippet (can be 0)
      var pad = lines.reduce(function(acc, line) {
        if (line.length > 0 && trimLeft(line).length > 0 && acc > line.length - trimLeft(line).length) {
          return line.length - trimLeft(line).length;
        }
        return acc;
      }, Number.POSITIVE_INFINITY);
      // Slice each line with this amount
      return lines.map(function(line, index) {
        return line.slice(pad);
      })
        .join('\n');
    })(snippetEl);
  }

  var RevealHighlight = {

    HIGHLIGHT_STEP_DELIMITER: '|',
    HIGHLIGHT_LINE_DELIMITER: ',',
    HIGHLIGHT_LINE_RANGE_DELIMITER: '-',

    init: function() {

      // Read the plugin config options and provide fallbacks
      var config = Reveal.getConfig().highlight || {};
      config.highlightOnLoad = typeof config.highlightOnLoad === 'boolean' ? config.highlightOnLoad : true;
      config.escapeHTML = typeof config.escapeHTML === 'boolean' ? config.escapeHTML : true;

      [].slice.call( document.querySelectorAll( '.reveal pre code' ) ).forEach( function( block ) {

        // Trim whitespace if the "data-trim" attribute is present
        if( block.hasAttribute( 'data-trim' ) && typeof block.innerHTML.trim === 'function' ) {
          block.innerHTML = betterTrim( block );
        }

        // Escape HTML tags unless the "data-noescape" attrbute is present
        if( config.escapeHTML && !block.hasAttribute( 'data-noescape' )) {
          block.innerHTML = block.innerHTML.replace( /</g,"&lt;").replace(/>/g, '&gt;' );
        }

        // Re-highlight when focus is lost (for contenteditable code)
        block.addEventListener( 'focusout', function( event ) {
          hljs.highlightBlock( event.currentTarget );
        }, false );

        if( config.highlightOnLoad ) {
          RevealHighlight.highlightBlock( block );
        }
      } );

    },

    /**
     * Highlights a code block. If the <code> node has the
     * 'data-line-numbers' attribute we also generate slide
     * numbers.
     *
     * If the block contains multiple line highlight steps,
     * we clone the block and create a fragment for each step.
     */
    highlightBlock: function( block ) {

      hljs.highlightBlock( block );

      // Don't generate line numbers for empty code blocks
      if( block.innerHTML.trim().length === 0 ) return;

      if( block.hasAttribute( 'data-line-numbers' ) ) {
        hljs.lineNumbersBlock( block, { singleLine: true } );

        // If there is at least one highlight step, generate
        // fragments
        var highlightSteps = RevealHighlight.deserializeHighlightSteps( block.getAttribute( 'data-line-numbers' ) );
        if( highlightSteps.length > 1 ) {

          // If the original code block has a fragment-index,
          // each clone should follow in an incremental sequence
          var fragmentIndex = parseInt( block.getAttribute( 'data-fragment-index' ), 10 );
          if( typeof fragmentIndex !== 'number' || isNaN( fragmentIndex ) ) {
            fragmentIndex = null;
          }

          // Generate fragments for all steps except the original block
          highlightSteps.slice(1).forEach( function( highlight ) {

            var fragmentBlock = block.cloneNode( true );
            fragmentBlock.setAttribute( 'data-line-numbers', RevealHighlight.serializeHighlightSteps( [ highlight ] ) );
            fragmentBlock.classList.add( 'fragment' );
            block.parentNode.appendChild( fragmentBlock );
            RevealHighlight.highlightLines( fragmentBlock );

            if( typeof fragmentIndex === 'number' ) {
              fragmentBlock.setAttribute( 'data-fragment-index', fragmentIndex );
              fragmentIndex += 1;
            }
            else {
              fragmentBlock.removeAttribute( 'data-fragment-index' );
            }

          } );

          block.removeAttribute( 'data-fragment-index' )
          block.setAttribute( 'data-line-numbers', RevealHighlight.serializeHighlightSteps( [ highlightSteps[0] ] ) );

        }

        RevealHighlight.highlightLines( block );

      }

    },

    /**
     * Visually emphasize specific lines within a code block.
     * This only works on blocks with line numbering turned on.
     *
     * @param {HTMLElement} block a <code> block
     * @param {String} [linesToHighlight] The lines that should be
     * highlighted in this format:
     * "1" 		= highlights line 1
     * "2,5"	= highlights lines 2 & 5
     * "2,5-7"	= highlights lines 2, 5, 6 & 7
     */
    highlightLines: function( block, linesToHighlight ) {

      var highlightSteps = RevealHighlight.deserializeHighlightSteps( linesToHighlight || block.getAttribute( 'data-line-numbers' ) );

      if( highlightSteps.length ) {

        highlightSteps[0].forEach( function( highlight ) {

          var elementsToHighlight = [];

          // Highlight a range
          if( typeof highlight.end === 'number' ) {
            elementsToHighlight = [].slice.call( block.querySelectorAll( 'table tr:nth-child(n+'+highlight.start+'):nth-child(-n+'+highlight.end+')' ) );
          }
          // Highlight a single line
          else if( typeof highlight.start === 'number' ) {
            elementsToHighlight = [].slice.call( block.querySelectorAll( 'table tr:nth-child('+highlight.start+')' ) );
          }

          if( elementsToHighlight.length ) {
            elementsToHighlight.forEach( function( lineElement ) {
              lineElement.classList.add( 'highlight-line' );
            } );

            block.classList.add( 'has-highlights' );
          }

        } );

      }

    },

    /**
     * Parses and formats a user-defined string of line
     * numbers to highlight.
     *
     * @example
     * RevealHighlight.deserializeHighlightSteps( '1,2|3,5-10' )
     * // [
     * //   [ { start: 1 }, { start: 2 } ],
     * //   [ { start: 3 }, { start: 5, end: 10 } ]
     * // ]
     */
    deserializeHighlightSteps: function( highlightSteps ) {

      // Remove whitespace
      highlightSteps = highlightSteps.replace( /\s/g, '' );

      // Divide up our line number groups
      highlightSteps = highlightSteps.split( RevealHighlight.HIGHLIGHT_STEP_DELIMITER );

      return highlightSteps.map( function( highlights ) {

        return highlights.split( RevealHighlight.HIGHLIGHT_LINE_DELIMITER ).map( function( highlight ) {

          // Parse valid line numbers
          if( /^[\d-]+$/.test( highlight ) ) {

            highlight = highlight.split( RevealHighlight.HIGHLIGHT_LINE_RANGE_DELIMITER );

            var lineStart = parseInt( highlight[0], 10 ),
              lineEnd = parseInt( highlight[1], 10 );

            if( isNaN( lineEnd ) ) {
              return {
                start: lineStart
              };
            }
            else {
              return {
                start: lineStart,
                end: lineEnd
              };
            }

          }
          // If no line numbers are provided, no code will be highlighted
          else {

            return {};

          }

        } );

      } );

    },

    /**
     * Serializes parsed line number data into a string so
     * that we can store it in the DOM.
     */
    serializeHighlightSteps: function( highlightSteps ) {

      return highlightSteps.map( function( highlights ) {

        return highlights.map( function( highlight ) {

          // Line range
          if( typeof highlight.end === 'number' ) {
            return highlight.start + RevealHighlight.HIGHLIGHT_LINE_RANGE_DELIMITER + highlight.end;
          }
          // Single line
          else if( typeof highlight.start === 'number' ) {
            return highlight.start;
          }
          // All lines
          else {
            return '';
          }

        } ).join( RevealHighlight.HIGHLIGHT_LINE_DELIMITER );

      } ).join( RevealHighlight.HIGHLIGHT_STEP_DELIMITER );

    }

  }

  Reveal.registerPlugin( 'highlight', RevealHighlight );

  return RevealHighlight;

}));
        
hljs.initHighlightingOnLoad();
</script></body></html>