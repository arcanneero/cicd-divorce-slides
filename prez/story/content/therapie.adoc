= La thérapie de couple
:includedir: ../partials
:figure-caption!:

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=therapie]
====

== DRY...

[source,yaml]
----
.deliver:
  variables:
    DELIVER_TASK: ''
  script:
    - ./is_it_friday.sh
    - $DELIVER_TASK
    - ./alert_ops_team.sh
    - ./send_an_email_to_PO.sh

deliver_npm_package:
  extends: .deliver
  variables:
    DELIVER_TASK: npm publish
    etc.

deliver_app:
  extends: .deliver
  variables:
    DELIVER_TASK: ftp -u myapp.tar.gz
----

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=dry]
====

== ...mais pas trop !

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=dry-do]
====

== Un couple SOLID ?

[NOTE.speaker]
====
On peut se poser la question ...
====

== Une responsabilité unique

[source,yaml]
----
analyse_code:
  script:
    - if [ -n $IS_PHP_PROJECT]; then vendor/bin/phpcs src; fi
    - if [ -f Dockerfile ]; hadolint Dockerfile; fi
    - sonar-scanner ...

# VS

php_lint:
  script:
    - vendor/bin/phpcs src

hadolint:
  script:
    - hadolint Dockerfile

sonar_analysis:
  script:
    - sonar-scanner ...
----

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=solid-s]
====

== Rester ouvert...

Mais pas trop !

[source,yaml]
----
.sonar:
  variables:
    PROJECT_KEY: ''
  script:
    - |
        sonar-scanner -Dsonar.projectKey=$PROJECT_KEY
        -Dsonar.sources=./src
        -Dsonar.tests=tests/

# VS

.sonar:
  variables:
    PROJECT_KEY: ''
  script:
    - sonar-scanner -Dsonar.projectKey=$PROJECT_KEY -Dproject.settings=./sonar-project.properties

# OU

.sonar:
  variables:
    PROJECT_KEY: ''
    SONAR_EXTRA_PARAMETERS: ''
  script:
    - sonar-scanner -Dsonar.projectKey=$PROJECT_KEY $SONAR_EXTRA_PARAMETERS


----

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=solid-o]
====

== Liskov à la rescousse...

.Barbara Liskov
image::../images/barbara_liskov.png["Barbara Liskov", 75%]

...ou pas !

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=solid-l]
====

== Spécialisation

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=solid-i]
====

== Une inversion de contrôle ?

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=solid-d]
====

== Un peu de lacher prise ?

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=lacher]
====

== Pouvoir debrayer !

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=debrayage]
====

== Le monde des Bisounours

KISS

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=kiss]
====

== Oups ...

[NOTE.speaker]
====
include::{includedir}/story.adoc[tag=accidentelle]
====

[.transition]
== !

[NOTE.speaker]
====
====
